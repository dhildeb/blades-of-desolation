(function(){"use strict";var e={7809:function(e,t,a){var s=a(9242),i=a(3396),r=a(7139);function n(e,t,a,s,n,c){const l=(0,i.up)("ShopNavBar"),o=(0,i.up)("CharacterDetailsModal"),m=(0,i.up)("router-view"),f=(0,i.up)("PlayerStatsSideWindow");return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(["d-md-flex bg-dark h-100v","MapLocation"==this.$route.name?"window-fluid-sm":""])},["MainShop"==this.$route.name?((0,i.wg)(),(0,i.j4)(l,{key:0})):(0,i.kq)("",!0),e.character?((0,i.wg)(),(0,i.j4)(o,{key:1,character:e.character,ref:"characterDetailsModal"},null,8,["character"])):(0,i.kq)("",!0),"easy"!=e.$store.state.player?.options?.difficulty&&"battleField"==this.$route.name?((0,i.wg)(),(0,i.iD)("div",{key:2,class:"bg-danger timer",style:(0,r.j5)("width: "+e.timer/(1e4*e.$store.state.player.characters.length)*100+"vw")},null,4)):(0,i.kq)("",!0),(0,i.Wm)(m,{class:"order-2 order-md-1"}),(0,i.Wm)(f,{class:"order-1 order-md-2"})],2)}var c=a(4870),l=a(7387),o=a.n(l),m=a(8914),f=a(4275),p=a(1992);const h={class:"pb-2 d-flex justify-content-center"},d={key:0},u={key:0},g=(0,i.Uk)("Map"),y={key:1},b=(0,i.Uk)("Create"),v=(0,i._)("div",{class:"pb-2"},[(0,i._)("button",{class:"btn btn-secondary",type:"button","data-toggle":"collapse","data-target":"#collapsePouch","aria-expanded":"false","aria-controls":"collapsePouch"}," Pouch "),(0,i._)("button",{class:"btn btn-secondary",type:"button","data-toggle":"collapse","data-target":"#collapseParty","aria-expanded":"false","aria-controls":"collapseParty"}," Party ")],-1),k={class:"collapse",id:"collapsePouch"},w={class:"d-flex d-md-block justify-content-around h-100"},T=(0,i._)("i",{class:"fad fa-coins"},null,-1),q=(0,i._)("p",{class:"click","data-toggle":"modal","data-target":"#itemPouchModal",title:"items"}," Items ",-1),x={key:0,class:"click","data-toggle":"modal","data-target":"#questModal",title:"quest"},Z={class:"collapse",id:"collapseParty"},M=["onClick"];function E(e,t,a,s,n,c){const l=(0,i.up)("ItemPouchModal"),o=(0,i.up)("QuestModal"),m=(0,i.up)("router-link"),f=(0,i.up)("BattleOptions");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(l),(0,i.Wm)(o),(0,i._)("div",{class:(0,r.C_)(["bg-black text-light side-window","MapLocation"==this.$route.name?"window-fluid-sm":""])},[(0,i._)("nav",h,[e.player.characters.length>0?((0,i.wg)(),(0,i.iD)("div",d,["MapLocation"!=this.$route.name?((0,i.wg)(),(0,i.iD)("div",u,[(0,i.Wm)(m,{to:"/map"},{default:(0,i.w5)((()=>[g])),_:1})])):(0,i.kq)("",!0),e.player.characters.length<=5&&"MapLocation"==this.$route.name?((0,i.wg)(),(0,i.iD)("div",y,[(0,i.Wm)(m,{to:"/"},{default:(0,i.w5)((()=>[b])),_:1})])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)]),v,(0,i._)("div",k,[(0,i._)("div",w,[(0,i._)("span",null,[(0,i.Uk)((0,r.zw)(e.player.gold)+" ",1),T]),q,this.$store.state.player.quest?.target?((0,i.wg)(),(0,i.iD)("p",x," Quest ")):(0,i.kq)("",!0)])]),(0,i._)("div",Z,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.player.characters,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"h-100",key:e.id},[(0,i._)("p",{class:"click","data-toggle":"modal","data-target":"#characterDetailsModal",title:"stats",onClick:t=>c.selectCharacter(e)},(0,r.zw)(e.name),9,M)])))),128))]),"battleField"!==this.$route.name?((0,i.wg)(),(0,i.iD)("button",{key:0,class:(0,r.C_)(["btn btn-success float-bottom",e.player.characters.length>0?"":"d-none"]),onClick:t[0]||(t[0]=(...e)=>c.saveGame&&c.saveGame(...e))},"Save",2)):(0,i.kq)("",!0),(0,i._)("button",{class:(0,r.C_)(["btn btn-success float-bottom",e.player.characters.length<1?"":"d-none"]),onClick:t[1]||(t[1]=(...e)=>c.loadGame&&c.loadGame(...e))},"Load Game",2),"battleField"!==this.$route.name&&"MainShop"!==this.$route.name?((0,i.wg)(),(0,i.iD)("button",{key:1,class:(0,r.C_)(["btn btn-primary float-bottom",e.player.characters.length>0?"":"d-none"]),onClick:t[2]||(t[2]=(...e)=>c.rest&&c.rest(...e))},"Rest (unsafe)",2)):(0,i.kq)("",!0),"battleField"==e.$route.name&&e.monstersWithHp>0?((0,i.wg)(),(0,i.j4)(f,{key:2})):(0,i.kq)("",!0)],2)],64)}var _=a(1067);const S={class:"modal fade text-dark",id:"itemPouchModal",tabindex:"-1",role:"dialog","aria-labelledby":"itemPouchModalLabel","aria-hidden":"true"},R={class:"modal-dialog",role:"document"},H={class:"modal-content text-light font-weight-bold"},C=(0,i._)("div",{class:"modal-header"},[(0,i._)("div",{class:"modal-title container"},[(0,i._)("h5",null,"Items")])],-1),I={class:"modal-body container"},D={class:"row px-3"},A={key:0},B={key:1};function L(e,t,a,s,r,n){const c=(0,i.up)("Item");return(0,i.wg)(),(0,i.iD)("div",S,[(0,i._)("div",R,[(0,i._)("div",H,[C,(0,i._)("div",I,[(0,i._)("div",D,[e.items.length>0?((0,i.wg)(),(0,i.iD)("ul",A,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.filteredItems,(t=>((0,i.wg)(),(0,i.j4)(c,{key:t.id,item:t,qty:e.$store.state.player.items.filter((e=>e.name==t.name)).length},null,8,["item","qty"])))),128))])):((0,i.wg)(),(0,i.iD)("p",B,"No items in pouch"))])])])])])}var j=a(2842),z={name:"ItemPouchModal",components:{Item:j.Z},setup(){const e=(0,c.qj)({items:(0,i.Fl)((()=>m.Z.state.player.items)),filteredItems:(0,i.Fl)((()=>m.Z.state.player.items.filter(((e,t)=>m.Z.state.player.items[t+1]?.name!=e.name))))});return e},methods:{}},P=a(89);const O=(0,P.Z)(z,[["render",L]]);var F=O;const U={class:"modal fade text-dark",id:"questModal",tabindex:"-1",role:"dialog","aria-labelledby":"questModalLabel","aria-hidden":"true"},$={class:"modal-dialog",role:"document"},W={class:"modal-content"},Y={class:"modal-header"},N={class:"modal-title container"},Q=(0,i._)("h5",null,"Quest",-1),G=(0,i._)("span",{"aria-hidden":"true"},"Ã—",-1),K=[G],J={class:"modal-body container"},V={class:"row justify-content-center"},X={class:"col-12 px-3"},ee={class:"col-12"},te={class:"border-top p-3"};function ae(e,t,a,s,n,c){return(0,i.wg)(),(0,i.iD)("div",U,[(0,i._)("div",$,[(0,i._)("div",W,[(0,i._)("div",Y,[(0,i._)("div",N,[Q,(0,i._)("button",{type:"button",class:"close text-danger","data-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>c.deleteQuest&&c.deleteQuest(...e)),title:"Delete Quest"},K)])]),(0,i._)("div",J,[(0,i._)("div",V,[(0,i._)("div",X,(0,r.zw)(e.quest.objective)+" "+(0,r.zw)(e.quest.target)+(0,r.zw)(e.quest.goal>0?"'s":""),1),(0,i._)("div",ee," Reward: "+(0,r.zw)(e.quest.reward)+" "+(0,r.zw)("explore"==e.quest.objective?"EXP":"kill"==e.quest.objective?"Gold":""),1),(0,i._)("span",te,(0,r.zw)(e.quest.goal>1?Math.round(e.quest.progress/e.quest.goal*100)+"%":"complete"!=e.quest.progress?"Not":"")+" Complete ",1)]),"MainShop"==this.$route.name&&(e.quest.progress>=e.quest.goal||"complete"==e.quest.progress)?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"btn btn-outline-success",onClick:t[1]||(t[1]=(...e)=>c.completeQuest&&c.completeQuest(...e))},"Complete Quest")):(0,i.kq)("",!0)])])])])}var se=a(6897),ie={name:"QuestModal",setup(){const e=(0,c.qj)({quest:(0,i.Fl)((()=>m.Z.state.player.quest)),kills:(0,i.Fl)((()=>m.Z.state.player.kills))});return e},methods:{completeQuest(){se.g.completeQuest()},async deleteQuest(){await _.Z.confirm("Give up on Quest","Quest too tough for you, huh?")&&se.g.deleteQuest()}}};const re=(0,P.Z)(ie,[["render",ae]]);var ne=re,ce=a(1988),le=a(4629),oe=a(1444);const me={key:0},fe={class:"header m-3 border-bottom"},pe={class:"title container"},he={class:"body container"},de={class:"row justify-content-center"},ue={key:0,class:"btn-group mb-3"},ge=["disabled"],ye=(0,i._)("button",{type:"button",class:"btn btn-danger dropdown-toggle dropdown-toggle-split","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[(0,i._)("span",{class:"sr-only"},"Toggle Dropdown")],-1),be={class:"dropdown-menu"},ve=["onClick"],ke=(0,i._)("sub",null,"(SPACEBAR)",-1),we={class:"row justify-content-center mt-3"},Te={key:0,class:"btn-group"},qe=["onClick","disabled"],xe={class:"row justify-content-center mt-3"},Ze=["disabled"],Me=["disabled"];function Ee(e,t,a,s,n,c){return e.selected?((0,i.wg)(),(0,i.iD)("div",me,[(0,i._)("div",fe,[(0,i._)("div",pe,(0,r.zw)(e.selected.name)+"("+(0,r.zw)(e.selected.actions)+") ",1)]),(0,i._)("div",he,[(0,i._)("div",de,[e.selected.spells.length>0?((0,i.wg)(),(0,i.iD)("div",ue,[(0,i._)("button",{id:"castSpell",type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=(...e)=>c.castSpell&&c.castSpell(...e)),disabled:e.selected.actions<1||e.selected.magic<e.selectedSpell.level},(0,r.zw)(e.selectedSpell?e.selectedSpell.name:c.selectSpell(e.selected.spells[0]))+" lvl-"+(0,r.zw)(e.selectedSpell?e.selectedSpell.level:c.selectSpell(e.selected.spells[0])),9,ge),ye,(0,i._)("div",be,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.selected.spells,((e,t)=>((0,i.wg)(),(0,i.iD)("button",{class:"dropdown-item",key:e.id,onClick:e=>c.selectSpell(t)},(0,r.zw)(e.name)+" lvl-"+(0,r.zw)(e.level),9,ve)))),128))]),ke])):(0,i.kq)("",!0)]),(0,i._)("div",we,[e.selected.abilities.length>0?((0,i.wg)(),(0,i.iD)("div",Te,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.selected.abilities,(t=>((0,i.wg)(),(0,i.iD)("button",{key:t.name,type:"button",class:"btn btn-danger",onClick:a=>{c.useAbility(t,e.selected),t.uses--},disabled:t.uses<=0},(0,r.zw)(t.name)+" ("+(0,r.zw)(t.uses)+")",9,qe)))),128))])):(0,i.kq)("",!0)]),(0,i._)("div",xe,[(0,i._)("button",{class:"btn btn-warning mx-2",onClick:t[1]||(t[1]=(...e)=>c.waitAction&&c.waitAction(...e)),disabled:e.selected.actions<1},"Wait",8,Ze),e.route.params.boss?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:0,class:"btn btn-secondary",onClick:t[2]||(t[2]=(...e)=>c.fleeAction&&c.fleeAction(...e)),disabled:e.selected.actions<1},"Flee",8,Me))])])])):(0,i.kq)("",!0)}var _e=a(9359),Se=a(5279),Re=a(9012),He=a(4677),Ce=a(678),Ie={name:"BattleOptions",setup(){(0,i.bv)((()=>{o()(window).on("keypress",(function(e){32==e.which&&(e.preventDefault(),o()("#castSpell").trigger("click"))}))}));const e=(0,c.qj)({selected:(0,i.Fl)((()=>m.Z.state.selected)),selectedSpellIndex:m.Z.state.selected.baseMagic>0?m.Z.state.selected.spells.findIndex((e=>e.level<=m.Z.state.selected.magic||0==e.level)):0,selectedSpell:(0,i.Fl)((()=>m.Z.state.selected.spells[e.selectedSpellIndex])),selectedAbility:{name:"select ability",level:null},route:(0,Ce.yj)()});return(0,i.YP)((()=>[e.selected]),(()=>{e.selected.baseMagic>0?e.selectedSpellIndex=e.selected.spells.findIndex((t=>t.level<=e.selected.magic||0==t.level)):e.selectedSpellIndex=0})),(0,i.YP)((()=>[e.selected.magic]),(()=>{e.selected&&(e.selectedSpellIndex=e.selected.spells.findIndex((t=>t.level<=e.selected.magic||0==t.level)),e.selectedSpellIndex=e.selectedSpellIndex>=0?e.selectedSpellIndex:0)})),e},methods:{waitAction(){this.selected.actions=0,le._.autoSelect()},fleeAction(){this.selected.actions>0&&(this.selected.actions=0,le._.attemptToFlee(this.selected),le._.autoSelect())},selectSpell(e){this.selectedSpellIndex=e},selectAbility(e){this.selectedAbility=e},useAbility(e,t){Re.K.useAbility(e,t)},async castSpell(){let e=null;if(!(this.selected.hp<=0)&&!(this.selected.magic<this.selectedSpell.level&&this.selectedSpell.level>0))return this.selectedSpell.areaEffect?(e="enemies",this.selected.magic-=this.selectedSpell.level,this.selected.actions-=this.selectedSpell.speed,_e.w.castSpell(this.selectedSpell,e),void le._.autoSelect()):(o()("[id^=hit]").each((function(){let e=o()(this).prop("id").replace(/[^0-9]+/,"");o()("#charImg"+e).addClass("selectable"),o()("#monster"+e).addClass("selectable click")})),void setTimeout((()=>document.addEventListener("click",this.eventListenerSpell,{once:!0,capture:!0})),100))},eventListenerSpell(e){const t=(0,He.pm)();e.stopImmediatePropagation();let a=Se.j.getMonsterById(o()(e.target).prop("id").replace(/[^0-9]+/,""));a||(a=le._.getCharacterById(o()(e.target).prop("id").replace(/[^0-9]+/,""))),o()("[id^=hit]").each((function(){let e=o()(this).prop("id").replace(/[^0-9]+/,"");o()("#charImg"+e).removeClass("selectable"),o()("#monster"+e).removeClass("selectable click")})),a?(this.selected.magic-=this.selectedSpell.level,this.selected.actions-=this.selectedSpell.speed,_e.w.castSpell(this.selectedSpell,a),le._.autoSelect()):t.warning("Cant cast spell without proper target.")}}};const De=(0,P.Z)(Ie,[["render",Ee]]);var Ae=De,Be=a(7562),Le=a(2447),je={components:{ItemPouchModal:F,QuestModal:ne,BattleOptions:Ae},inheritAttrs:!1,setup(){const e=(0,c.qj)({player:(0,i.Fl)((()=>m.Z.state.player)),monstersWithHp:(0,i.Fl)((()=>m.Z.state.combatMonsters.filter((e=>e.hp>0)).length))});return e},methods:{selectCharacter(e){m.Z.state.selected=e},saveGame(){const e=(0,He.pm)();window.localStorage.setItem("player",JSON.stringify(this.$store.state.player)),e.success("Game Saved!")},loadGame(){const e=(0,He.pm)();this.$store.state.player=JSON.parse(window.localStorage.getItem("player")),this.$store.state.player.items.forEach(((e,t)=>{this.$store.state.player.items[t]=new ce.c(e)})),this.$store.state.player.characters.forEach(((e,t)=>{le._.loadCharacter(t,e),e.abilities.forEach(((e,a)=>{this.$store.state.player.characters[t].abilities[a]=new Le.$(e)})),e.equipment.forEach(((e,a)=>{this.$store.state.player.characters[t].equipment[a]=new ce.c(e)})),e.spells.forEach(((e,a)=>{this.$store.state.player.characters[t].spells[a]=new oe.j(e)}))})),this.$store.state.location=parseInt(this.$store.state.player.currentLocation[0]),e.success("Game Loaded!"),Be.Z.push({name:"AreaLocation"})},async rest(){const e=(0,He.pm)();if(!JSON.parse(window.localStorage.getItem("Wild Rest Warning"))){if(!await _.Z.confirm("Wild Rest Warning","Are you sure you want to rest in the unprotected wild? You may be attacked or robbed? Continue?"))return;window.localStorage.setItem("Wild Rest Warning",JSON.stringify("skip"))}let t=Math.ceil(100*Math.random())+2*m.Z.state.location,a=le._.getPartyLuck()+50;if(a>t)return m.Z.state.player.characters.forEach((e=>{e.hp=e.hp+Math.round(.25*e.baseHp)>e.baseHp?e.baseHp:e.hp+Math.round(.25*e.baseHp),e.magic=e.baseMagic,e.abilities.forEach((e=>e.uses=e.baseUses)),e.actions=e.baseActions})),void e.success("Successfully Rested!");if(t-a>15&&m.Z.state.player.gold>0)Be.Z.push({name:"battleField"});else if(t-a>1&&m.Z.state.player.items.length>0){let s=Math.round(m.Z.state.player.gold*((t-a)/100));e.warning("Your rest is interupted by thieves, fornately you are unharmed. Unforunately you lost "+s+" Gold",{timeout:1e4}),m.Z.state.player.gold-=s}else{let t=Math.floor(Math.random()*m.Z.state.player.items.length),a=m.Z.state.player.items[t],s=Math.floor(Math.random()*m.Z.state.player.explored[m.Z.state.location].length);m.Z.state.player.currentLocation=m.Z.state.player.explored[m.Z.state.location][s],e.warning("Your rest turns out to be full of nightmares and vivid dreams, it appears you wondered off in your sleep. You also realize you are missing "+a.name,{timeout:1e4}),m.Z.state.player.items.splice(t,1)}}}};const ze=(0,P.Z)(je,[["render",E]]);var Pe=ze;const Oe={class:"modal fade text-dark",id:"characterDetailsModal",tabindex:"-1",role:"dialog","aria-labelledby":"characterDetailsModalLabel","aria-hidden":"true"},Fe={class:"modal-dialog modal-lg",role:"document"},Ue={key:0,class:"modal-content text-light"},$e={class:"modal-header"},We={class:"modal-title container"},Ye={class:"row"},Ne={class:"col-4"},Qe={class:"col-4"},Ge={class:"col-4"},Ke=(0,i._)("div",{class:"row"},[(0,i._)("sup",{class:"col-4"}),(0,i._)("sup",{class:"col-4"},"Class"),(0,i._)("sup",{class:"col-4"},"Race")],-1),Je={class:"modal-body container position-absolute"},Ve={class:"row"},Xe={class:"col-md-6 col-12"},et=(0,i._)("strong",{for:"stats"},"Stats",-1),tt={class:"mt-3 pl-3 d-grid bg-darken"},at={title:"Actions it takes to make an attack"},st=["innerHTML"],it={key:0},rt={key:1,title:"HP is retored by this amount at the end of each turn in battle"},nt={key:2,title:"Magic is retored by this amount at the end of each turn in battle"},ct={key:3},lt={key:4},ot={key:5},mt={key:6,title:"improves chance for better items, dodged attacks, crit hits and flee"},ft={key:7},pt={key:8},ht={key:9},dt={key:10,class:"col-md-6 col-12"},ut=(0,i._)("label",{class:"text-left w-100",for:"resistances"},"Resistances: ",-1),gt={key:11,class:"col-md-6 col-12"},yt=(0,i._)("label",{class:"text-left w-100",for:"immunities"},"Immunities: ",-1),bt={key:12,class:"col-md-6 col-12"},vt=(0,i._)("label",{class:"text-left w-100",for:"vulnerabilities"},"Vulnerabilities: ",-1),kt={class:"col-md-6 col-12"},wt=(0,i._)("strong",{for:"items"},"Items",-1),Tt={key:0,class:"border border-rounded h-100 bg-darken"},qt=["id","onClick","title"],xt=["innerHTML"],Zt={key:1},Mt={class:"row mt-4"},Et={key:0,class:"col-md-6 col-12"},_t=(0,i._)("strong",null,"Equipment",-1),St={class:"border-rounded border py-3 bg-darken"},Rt=["title","onClick"],Ht=["innerHTML"],Ct={key:1,class:"col-md-6 col-12"},It=(0,i._)("strong",null,"Set Bonus",-1),Dt={class:"border-rounded border py-3 bg-darken"},At={key:2,class:"col-6"},Bt=(0,i._)("strong",null,"Spells",-1),Lt={class:"border-rounded border h-75 bg-darken"},jt=["title","onClick"],zt={key:3,class:"col-6"},Pt=(0,i._)("strong",null,"Abilities",-1),Ot={class:"border-rounded border h-75 bg-darken"},Ft=["title"],Ut={class:"mt-3 text-center"},$t={class:"my-2"},Wt=(0,i._)("button",{class:"btn btn-outline-danger","data-dismiss":"modal"},"Close",-1);function Yt(e,t,a,s,n,c){return(0,i.wg)(),(0,i.iD)("div",Oe,[(0,i._)("div",Fe,[a.character?((0,i.wg)(),(0,i.iD)("div",Ue,[(0,i._)("div",$e,[(0,i._)("div",We,[(0,i._)("div",Ye,[(0,i._)("h5",Ne,(0,r.zw)(a.character.name),1),(0,i._)("h5",Qe,(0,r.zw)(a.character.classType),1),(0,i._)("h5",Ge,(0,r.zw)(a.character.race),1)]),Ke])]),(0,i._)("div",{class:(0,r.C_)(["char-bg-img",a.character.statusEffects.map((e=>e.negative?e.name:"")).join(" ")]),style:(0,r.j5)("background-image: url("+a.character.img+")")},null,6),(0,i._)("div",Je,[(0,i._)("div",Ve,[(0,i._)("div",Xe,[et,(0,i._)("div",tt,[(0,i._)("span",null,"HP: "+(0,r.zw)(Math.round(10*a.character.hp)/10)+" / "+(0,r.zw)(a.character.baseHp),1),(0,i._)("span",null,"LVL: "+(0,r.zw)(a.character.level),1),(0,i._)("span",null,"EXP: "+(0,r.zw)(Math.round(a.character.exp))+" / "+(0,r.zw)(e.levelUpChart[a.character.level]),1),(0,i._)("span",null,"Speed: "+(0,r.zw)(a.character.actions)+" / "+(0,r.zw)(a.character.baseActions),1),(0,i._)("span",at,"Attack Speed: "+(0,r.zw)(c.getAttackSpeed(a.character)),1),(0,i._)("span",null,"STR: "+(0,r.zw)(a.character.strength),1),(0,i._)("span",null,[(0,i.Uk)("DMG Type: "+(0,r.zw)(a.character.dmgType)+" ",1),(0,i._)("span",{innerHTML:c.getDmgTypeIcon(a.character.dmgType)},null,8,st)]),a.character.baseMagic?((0,i.wg)(),(0,i.iD)("span",it,"Magic: "+(0,r.zw)(a.character.magic)+" / "+(0,r.zw)(a.character.baseMagic),1)):(0,i.kq)("",!0),a.character.regen?((0,i.wg)(),(0,i.iD)("span",rt,"Regen: "+(0,r.zw)(a.character.regen),1)):(0,i.kq)("",!0),a.character.magicRegen?((0,i.wg)(),(0,i.iD)("span",nt,"Magic Regen: "+(0,r.zw)(a.character.magicRegen),1)):(0,i.kq)("",!0),a.character.dodge?((0,i.wg)(),(0,i.iD)("span",ct,"Dodge: "+(0,r.zw)(a.character.dodge)+"%",1)):(0,i.kq)("",!0),a.character.thorns?((0,i.wg)(),(0,i.iD)("span",lt,"Thorns: "+(0,r.zw)(a.character.thorns),1)):(0,i.kq)("",!0),a.character.lifeSteal?((0,i.wg)(),(0,i.iD)("span",ot,"Life Steal: "+(0,r.zw)(a.character.lifeSteal)+"%",1)):(0,i.kq)("",!0),a.character.luck?((0,i.wg)(),(0,i.iD)("span",mt,"Luck: "+(0,r.zw)(a.character.luck)+"%",1)):(0,i.kq)("",!0),a.character.absorb?((0,i.wg)(),(0,i.iD)("span",ft,"Absorb: "+(0,r.zw)(a.character.absorb),1)):(0,i.kq)("",!0),a.character.physicalResistance?((0,i.wg)(),(0,i.iD)("span",pt,"Physical Resistance: "+(0,r.zw)(a.character.physicalResistance)+"%",1)):(0,i.kq)("",!0),a.character.magicResistance?((0,i.wg)(),(0,i.iD)("span",ht,"Magic Resistance: "+(0,r.zw)(a.character.magicResistance)+"%",1)):(0,i.kq)("",!0),a.character.resistances.length>0?((0,i.wg)(),(0,i.iD)("ul",dt,[ut,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.character.resistances,(e=>((0,i.wg)(),(0,i.iD)("li",{class:"ml-4",key:e},(0,r.zw)(e),1)))),128))])):(0,i.kq)("",!0),a.character.immunities.length>0?((0,i.wg)(),(0,i.iD)("ul",gt,[yt,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.character.immunities,(e=>((0,i.wg)(),(0,i.iD)("li",{class:"ml-4",key:e},(0,r.zw)(e),1)))),128))])):(0,i.kq)("",!0),a.character.vulnerabilities.length>0?((0,i.wg)(),(0,i.iD)("ul",bt,[vt,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.character.vulnerabilities,(e=>((0,i.wg)(),(0,i.iD)("li",{class:"ml-4",key:e},(0,r.zw)(e),1)))),128))])):(0,i.kq)("",!0)])]),(0,i._)("div",kt,[wt,e.items.length>0?((0,i.wg)(),(0,i.iD)("ul",Tt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.items,(e=>((0,i.wg)(),(0,i.iD)("li",{id:"item"+e.id,class:(0,r.C_)(["click",c.statDiffColor(a.character,e)?"text-success":null==c.statDiffColor(a.character,e)?"":"text-danger"]),key:e.id,onClick:t=>c.equip(a.character,e),title:c.getItemEffectsDisplay(e)},[(0,i.Uk)((0,r.zw)(e.name),1),(0,i._)("span",{innerHTML:c.getItemIcon(e.type)},null,8,xt),(0,i.Uk)(" "+(0,r.zw)(c.getStatDiff(a.character,e)),1)],10,qt)))),128))])):((0,i.wg)(),(0,i.iD)("p",Zt,"No items in pouch"))])]),(0,i._)("div",Mt,[a.character.equipment.length>0?((0,i.wg)(),(0,i.iD)("div",Et,[_t,(0,i._)("ul",St,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.character.equipment,(e=>((0,i.wg)(),(0,i.iD)("li",{class:(0,r.C_)(["equipment click",c.getRarityFullName(e.rarity)]),key:e.id,title:e.effect+" +"+e.value,onClick:t=>c.unequip(a.character,e)},[(0,i.Uk)((0,r.zw)(e.name)+" ",1),(0,i._)("span",{innerHTML:c.getItemIcon(e.type)},null,8,Ht),(0,i.Uk)(" "+(0,r.zw)(e.speed>0?" (-"+e.speed+" speed)":""),1)],10,Rt)))),128))])])):(0,i.kq)("",!0),a.character.sets.length>0?((0,i.wg)(),(0,i.iD)("div",Ct,[It,(0,i._)("ul",Dt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.character.sets,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e},(0,r.zw)(e),1)))),128))])])):(0,i.kq)("",!0),a.character.spells.length>0?((0,i.wg)(),(0,i.iD)("div",At,[Bt,(0,i._)("ul",Lt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.character.spells,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:e.name,title:e.title??e.getTitle(),onClick:a=>c.setSpellDefault(e,t)},(0,r.zw)(e.name)+" lvl-"+(0,r.zw)(e.level),9,jt)))),128))])])):(0,i.kq)("",!0),a.character.abilities.length>0?((0,i.wg)(),(0,i.iD)("div",zt,[Pt,(0,i._)("ul",Ot,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.character.abilities,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.name,title:e.title??e.getTitle()},(0,r.zw)(e.name)+" lvl-"+(0,r.zw)(e.level),9,Ft)))),128))])])):(0,i.kq)("",!0)])]),(0,i._)("span",Ut,(0,r.zw)(a.character.statBonus>0?"Level Up Points: "+a.character.statBonus:""),1),(0,i._)("div",$t,[(0,i._)("button",{class:"btn btn-outline-secondary mx-3",onClick:t[0]||(t[0]=e=>c.nextCharacter(-1))},"<"),Wt,a.character.statBonus>0?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"btn btn-outline-success",onClick:t[1]||(t[1]=e=>c.improveStat(a.character))},"Improve Stat")):(0,i.kq)("",!0),a.character.statBonus>0&&a.character.baseMagic>0?((0,i.wg)(),(0,i.iD)("button",{key:1,class:"btn btn-outline-success",onClick:t[2]||(t[2]=e=>c.improveSpell(a.character))},(0,r.zw)(a.character.spells.lenght>0?"Improve Spell":"Learn Spell"),1)):(0,i.kq)("",!0),(0,i._)("button",{class:"btn btn-outline-secondary mx-3",onClick:t[3]||(t[3]=e=>c.nextCharacter(1))},">")])])):(0,i.kq)("",!0)])])}var Nt=a(5216),Qt=a(2369),Gt=a(9370),Kt=a(4485),Jt={name:"CharacterDetailsModal",props:{character:{require:!0,type:Object}},setup(){const e=(0,c.qj)({levelUpChart:m.Z.state.levelUpChart,items:(0,i.Fl)((()=>m.Z.state.player.items.sort(((e,t)=>e.name.localeCompare(t.name))).filter((function(e,t,a){return!t||e.name!=a[t-1].name}))))});return e},methods:{getItemIcon:Gt._,getRarityFullName:Kt.$,getDmgTypeIcon:Gt.p,getItemEffectsDisplay(e){Nt.x.getItemEffectsDisplay(e)},getAttackSpeed(e){return Qt.R.getSpeedCost(e)},unequip(e,t){Nt.x.unequipItem(e,t)},equip(e,t){t.scroll?this.useScroll(t.name,e):"consumable"!=t.type?Nt.x.equipItem(e,t):Nt.x.useConsumableItem(t,e)},getStatDiff(e,t){let a="";if(Array.isArray(t.value))for(let s=0;s<t.value.length;s++)a+=this.compareEffectDiff(e.equipment,{effect:t.effect[s],value:t.value[s],type:t.type});else a+=this.compareEffectDiff(e.equipment,t);return a},compareEffectDiff(e,t){let a=e.filter((e=>e.type===t.type))[0];if(!a)return"object"==typeof t.value?t.value.name+" +"+t.value.chance+"% ":`+${t.value} ${t.effect} `;let s=a.effect,i=!1;if(Array.isArray(s)?(i=s.findIndex((e=>e==t.effect)),s=s.filter((e=>e==t.effect))[0]):s=s==t.effect,!s)return"object"==typeof t.value?t.value.name+" +"+t.value.chance+"% ":`+${t.value} ${t.effect} `;let r=a.value[i]??a.value,n=a.effect[i]??a.effect;if(r==t.value)return"";if("string"==typeof t.value)return`+${t.value} ${t.effect} `;if("object"==typeof t.value)return t.value.name+" +"+t.value.chance+"% ";let c=t.value-r,l=c>0?"+":"";return l+c+" "+n+" "},statDiffColor(e,t){let a=!0;return e.equipment.forEach((e=>{e.type==t.type&&(a=t.price-e.price>0||!(t.price-e.price<0)&&null)})),a},async improveStat(e){if(e.statBonus<=0)return;let t={baseStrength:"Strength"};for(let s in e)if(e[s]>0){if("level"==s||"exp"==s||"actions"==s||"hp"==s||"strength"==s||"inBattle"==s||"magic"==s||"statBonus"==s||"magicRegen"==s||"baseStrength"==s)continue;t[s]=s.replace("base","")}let a=await _.Z.selectOptions(t);a&&(e[a]++,e[a.toLowerCase().replace("base","")]&&e[a.toLowerCase().replace("base","")]++,e.statBonus--)},async improveSpell(e){if(e.statBonus<=0)return;let t={};e.spells.length>0?e.spells.forEach((e=>t[e.name]=e.name)):m.Z.state.spells[0].forEach((e=>t[e.name]=e.name));let a=await _.Z.selectOptions(t);a&&_e.w.learnSpell(a,e)&&e.statBonus--},useScroll(e,t){if(_e.w.learnSpell(e,t)){let t=m.Z.state.player.items.findIndex((t=>t.name==e));m.Z.state.player.items.splice(t,1)}},setSpellDefault(e,t){this.$props.character.spells.splice(t,1),this.$props.character.spells.unshift(e)},nextCharacter(e){let t=m.Z.state.player.characters.findIndex((e=>e.id==this.character.id)),a=m.Z.state.player.characters[t+e>=m.Z.state.player.characters.length?0:t+e<0?m.Z.state.player.characters.length-1:t+e];m.Z.state.selected=a}}};const Vt=(0,P.Z)(Jt,[["render",Yt]]);var Xt=Vt;const ea=e=>((0,i.dD)("data-v-0f96be96"),e=e(),(0,i.Cn)(),e),ta={class:"navbar navbar-dark bg-darker sticky-top"},aa={class:"d-flex justify-content-between"},sa={class:"mr-3"},ia=["disabled"],ra=ea((()=>(0,i._)("i",{class:"fad fa-coins"},null,-1))),na=(0,i.Uk)(")"),ca=["onClick","disabled"],la=ea((()=>(0,i._)("i",{class:"fad fa-coins"},null,-1))),oa=(0,i.Uk)(")");function ma(e,t,a,s,n,c){return(0,i.wg)(),(0,i.iD)("nav",ta,[(0,i._)("div",aa,[(0,i._)("a",{class:"btn btn-sm btn-outline-secondary",onClick:t[0]||(t[0]=e=>c.changeShop("sell"))},"Sell"),(0,i._)("a",{class:"btn btn-sm btn-outline-secondary",onClick:t[1]||(t[1]=e=>c.changeShop("general"))},"Items"),(0,i._)("a",{class:"btn btn-sm btn-outline-secondary",onClick:t[2]||(t[2]=e=>c.changeShop("magic"))},"Magic")]),(0,i._)("div",sa,[(0,i._)("button",{class:"btn btn-warning mr-2",onClick:t[3]||(t[3]=(...e)=>c.adventureOn&&c.adventureOn(...e))},"Adventure On!"),(0,i._)("button",{class:"btn btn-primary",onClick:t[4]||(t[4]=e=>c.rest(50*s.state.location+50)),disabled:s.state.playersGold<50*s.state.location+50},[(0,i.Uk)("Rest ("+(0,r.zw)(50*s.state.location+50)+" ",1),ra,na],8,ia),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.state.revive,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id},[(0,i._)("button",{class:"btn btn-secondary m-3",onClick:t=>c.reviveCharacter(e.id),disabled:s.state.playersGold<e.cost},[(0,i.Uk)("Revive "+(0,r.zw)(e.name)+" ("+(0,r.zw)(-10*(e.hp-e.baseHp))+" ",1),la,oa],8,ca)])))),128))])])}var fa={name:"ShopNavBar",setup(){const e=(0,c.qj)({healPartyCost:(0,i.Fl)((()=>Math.round(m.Z.state.player.characters.map((e=>e.hp>0?e.baseHp-e.hp:0)).reduce(((e,t)=>e+t))))),restorePartyMagicCost:(0,i.Fl)((()=>Math.round(3*m.Z.state.player.characters.map((e=>e.baseMagic>0?e.baseMagic-e.magic:0)).reduce(((e,t)=>e+t))))),revive:(0,i.Fl)((()=>m.Z.state.player.characters.filter((e=>e.hp<1)))),playersGold:(0,i.Fl)((()=>m.Z.state.player.gold)),location:(0,i.Fl)((()=>m.Z.state.location))});return{state:e}},methods:{reviveCharacter(e){let t=this.state.revive.find((t=>t.id=e)),a=-10*(t.hp-t.baseHp);this.$store.commit("reducePlayerGold",a),this.$store.state.player.characters.forEach((t=>t.id==e?t.hp=t.baseHp:""))},healParty(){this.$store.commit("reducePlayerGold",this.state.healPartyCost),this.$store.state.player.characters.forEach((e=>e.hp<e.baseHp&&e.hp>0?e.hp=e.baseHp:""))},RestorePartyMagic(){this.$store.commit("reducePlayerGold",this.state.restorePartyMagicCost),this.$store.state.player.characters.forEach((e=>e.magic<e.baseMagic?e.magic=e.baseMagic:""))},rest(e){const t=(0,He.pm)();m.Z.state.player.gold-=e,m.Z.state.player.characters.forEach((e=>{e.hp=e.baseHp,e.magic=e.baseMagic,e.abilities.forEach((e=>e.uses=e.baseUses)),e.actions=e.baseActions,e.statusEffects=e.statusEffects.filter((e=>!e.negative))})),t.success("Your party is Fully Rested!")},adventureOn(){Be.Z.push({name:"AreaLocation"})},changeShop(e){m.Z.state.shop=e}}};const pa=(0,P.Z)(fa,[["render",ma],["__scopeId","data-v-0f96be96"]]);var ha=pa,da={components:{PlayerStatsSideWindow:Pe,CharacterDetailsModal:Xt,ShopNavBar:ha},setup(){(0,i.bv)((()=>{if(m.Z.state.characterImgList.length>0)return;let e="assets/img/characters";o().ajax({url:e,async:!1,success:function(e){o()(e).find("a").attr("href",(function(e,t){t.match(/\.(jpe?g|png|gif)$/)&&m.Z.state.characterImgList.push(t)}))},error:function(){const e=(0,p.cF)(f["default"]);(0,p.aF)((0,p.iH)(e,"characters/")).then((t=>{t.items.forEach((t=>{(0,p.Jt)((0,p.iH)(e,"/"+t._location.path_)).then((e=>{m.Z.state.characterImgList.push(e)}))}))}))}}),e="assets/img/locations/",o().ajax({url:e,async:!1,success:function(e){o()(e).find("a").attr("href",(function(e,t){t.match(/\.(jpe?g|png|gif)$/)&&m.Z.state.locationImgList.push(t)}))},error:function(){const e=(0,p.cF)(f["default"]);(0,p.aF)((0,p.iH)(e,"locations/")).then((t=>{t.items.forEach((t=>{(0,p.Jt)((0,p.iH)(e,"/"+t._location.path_)).then((e=>{m.Z.state.locationImgList.push(e)}))}))}))}}),e="assets/img/monsters/",o().ajax({url:e,async:!1,success:function(e){o()(e).find("a").attr("href",(function(e,t){t.match(/\.(jpe?g|png|gif)$/)&&m.Z.state.monsterImgList.push(t)}))},error:function(){const e=(0,p.cF)(f["default"]);(0,p.aF)((0,p.iH)(e,"monsters/")).then((t=>{t.items.forEach((t=>{(0,p.Jt)((0,p.iH)(e,"/"+t._location.path_)).then((e=>{m.Z.state.monsterImgList.push(e)}))}))}))}}),e="assets/img/",o().ajax({url:e,async:!1,success:function(e){o()(e).find("a").attr("href",(function(e,t){t.match(/\.(jpe?g|png|gif)$/)&&m.Z.state.assetsImgList.push(t)}))},error:function(){const e=(0,p.cF)(f["default"]);(0,p.aF)((0,p.iH)(e,"/")).then((t=>{t.items.forEach((t=>{(0,p.Jt)((0,p.iH)(e,"/"+t._location.path_)).then((e=>{m.Z.state.assetsImgList.push(e)}))}))}))}})}));const e=(0,c.qj)({character:(0,i.Fl)((()=>m.Z.state.selected)),timer:(0,i.Fl)((()=>m.Z.state.timer))});return e},methods:{}};const ua=(0,P.Z)(da,[["render",n]]);var ga=ua;a(343);const ya={timeout:3e3},ba={apiKey:"AIzaSyC83i8pGROHwcHAp1Ecivxl7NyCtJxfWX4",authDomain:"game-pics.firebaseapp.com",projectId:"game-pics",storageBucket:"game-pics.appspot.com",messagingSenderId:"105661301499",appId:"1:105661301499:web:5e3588750185de5833e65e",measurementId:"G-QE7VMGPJB9"},va=(0,f.ZF)(ba);(0,s.ri)(ga).use(m.Z).use(Be.Z).use(He.ZP,ya).use(va).mount("#app")},2447:function(e,t,a){a.d(t,{$:function(){return i}});var s=a(6197);class i{constructor(e){this.id=(0,s.O)(),this.name=e.name,this.level=e.level??1,this.dmgType=e.dmgType,this.strength=e.strength,this.areaEffect=e.areaEffect??!1,this.effect=e.effect,this.value=e.value,this.targetsEnemy=e.targetsEnemy??!1,this.buff=e.buff??!1,this.debuff=e.debuff??!1,this.temp=e.temp??!0,this.title=e.title??null,this.classType=e.classType??"any",this.uses=e.uses??1,this.baseUses=e.baseUses??1}getTitle(){let e="";return this.strength?e=this.strength+" "+this.dmgType+" dmg":(e=this.buff?"+":"-",e+=this.value+" "+this.effect),e+=this.areaEffect?" (Mass effect)":"",e}}},1988:function(e,t,a){a.d(t,{c:function(){return i}});var s=a(6197);class i{constructor(e){this.id=(0,s.O)(),this.name=e.name,this.requirements=e.requirements??[],this.statusEffects=e.statusEffects??[],this.effect=e.effect??"none",this.value="randomDmgType"==e.value?this.getRandomDmgType():e.value??0,this.type=e.type??"none",this.price=e.price??0,this.rarity=e.rarity??"none",this.speed=e.speed??0,this.scroll=e.scroll??!1,this.set=e.set??""}getRandomDmgType(){let e=["lightning","melee","magic","acid","necrotic","poison","fire","radiant","psychic"],t=Math.floor(Math.random()*e.length);return this.name+=" ("+e[t]+")",e[t]}}},3565:function(e,t,a){a.d(t,{d:function(){return i}});var s=a(6197);class i{constructor(e){this.id=(0,s.O)(),this.name=e.name??"unknown",this.classType=e.classType??"unknown",this.race=e.race??"unknown",this.img=e.img,this.spells=e.spells??[],this.equipment=e.equipment??[],this.dmgType=e.dmgType??"melee",this.hp=e.hp??5,this.magic=e.magic??0,this.luck=e.luck??0,this.strength=e.strength??1,this.dodge=e.dodge??0,this.thorns=e.thorns??0,this.actions=e.actions??1,this.physicalResistance=e.physicalResistance??0,this.magicResistance=e.magicResistance??0,this.immunities=e.immunities??[],this.vulnerabilities=e.vulnerabilities??[],this.resistances=e.resistances??[],this.statusEffects=e.statusEffects??[],this.lifeSteal=e.lifeSteal??0,this.regen=e.regen??0,this.absorb=e.absorb??"",this.buffs=[],this.debuffs=[],this.level=e.level??0,this.loot=e.loot??{gold:0,items:[]},this.exp=e.exp??50,this.baseHp=this.hp,this.baseStrength=this.strength,this.baseDodge=this.dodge,this.baseThorns=this.thorns,this.baseActions=this.actions,this.baseLifeSteal=this.lifeSteal,this.baseLuck=this.luck,this.baseMagic=this.magic,this.basePhysicalResistance=this.physicalResistance,this.baseMagicResistance=this.magicResistance,this.abilities=e.abilities??[]}}},1444:function(e,t,a){a.d(t,{j:function(){return i}});var s=a(6197);class i{constructor(e){this.id=(0,s.O)(),this.name=e.name,this.level=e.level??1,this.speed=e.speed??e.level<3?3:e.level,this.cost=e.cost??1,this.dmgType=e.dmgType??"magic",this.strength=e.strength,this.areaEffect=e.areaEffect??!1,this.statusEffects=e.statusEffects??[],this.effect=e.effect,this.value=e.value,this.buff=e.buff??!1,this.debuff=e.debuff??!1,this.temp=e.temp??!1,this.title=e.title??null,this.reqs=e.reqs??{}}getTitle(){let e="";return this.strength?e=this.strength+" "+this.dmgType+" dmg":(e=this.buff?"+":"-",e+=this.value+" "+this.effect),e+=this.areaEffect?" (Mass effect)":"",e}}},7562:function(e,t,a){a.d(t,{Z:function(){return Qe}});var s=a(678),i=a(3396),r=a(7139);const n={class:"container"},c=["id"],l={key:0},o={key:1},m={key:0},f={class:"row justify-content-center h-50 bg-img contain"},p={key:0};function h(e,t,a,s,h,d){const u=(0,i.up)("LootMonster"),g=(0,i.up)("EnemyMonster"),y=(0,i.up)("CombatCharacter");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",{class:"row justify-content-center align-items-center h-50 bg-battle-img",style:(0,r.j5)("background-image: url("+e.bgImg+")")},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.monsters,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-4 col-md-2",key:t.id},[(0,i._)("div",{class:"position-absolute hit",id:"hit"+t.id},null,8,c),e.monstersWithHp<1?((0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(u,{monster:t},null,8,["monster"])])):((0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(g,{monster:t},null,8,["monster"])]))])))),128)),e.monstersWithHp<1?((0,i.wg)(),(0,i.iD)("div",m,[(0,i._)("button",{class:"btn btn-warning",onClick:t[0]||(t[0]=(...e)=>d.adventureOn&&d.adventureOn(...e))},"Adventure On!")])):(0,i.kq)("",!0)],4),(0,i._)("div",f,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.characters,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"col-4 col-md-2",key:e.id},[e.inBattle?((0,i.wg)(),(0,i.iD)("div",p,[(0,i.Wm)(y,{character:e},null,8,["character"])])):(0,i.kq)("",!0)])))),128))])])}const d=["id"],u=["id","src"],g=["src"];function y(e,t,a,s,n,c){const l=(0,i.up)("HpBar");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(l,{hp:a.monster.hp,baseHp:a.monster.baseHp,unknown:e.unknown},null,8,["hp","baseHp","unknown"]),(0,i._)("div",null,[(0,i._)("div",{class:"position-absolute hit",id:"hit"+a.monster.id},null,8,d),a.monster.hp>0?((0,i.wg)(),(0,i.iD)("img",{key:0,id:"monster"+a.monster.id,class:(0,r.C_)(["img-fluid monster-img attack-cursor",a.monster.statusEffects.map((e=>e.negative?e.name:"")).join(" ")]),onClick:t[0]||(t[0]=e=>c.attackMonster(a.monster)),src:e.img},null,10,u)):((0,i.wg)(),(0,i.iD)("img",{key:1,class:"img-fluid monster-img",src:e.deadImg},null,8,g))])],64)}var b=a(4870);const v={class:"bg-danger w-100 hp-bar rounded-pill align-items-center justify-content-center d-flex"},k={class:"text-light pb-1"};function w(e,t,a,s,n,c){return(0,i.wg)(),(0,i.iD)("div",v,[(0,i._)("div",{class:(0,r.C_)(["hp-bar text-absolute-center rounded-pill",a.selected?"bg-warning":"bg-success"]),style:(0,r.j5)("width: "+(a.hp>0?a.hp/a.baseHp*100:0)+"%")},[(0,i._)("span",k,(0,r.zw)(a.unknown?"????":Math.round(10*a.hp)/10)+"/"+(0,r.zw)(a.unknown?"????":a.baseHp),1)],6)])}var T={props:{hp:{require:!0,type:Number},baseHp:{require:!0,type:Number},selected:{type:Boolean,default:!1},unknown:{type:Boolean,default:!1}}},q=a(89);const x=(0,q.Z)(T,[["render",w]]);var Z=x,M=a(8914),E=a(6938),_=a(4629),S=a(3818),R={components:{HpBar:Z},name:"EnemyMonster",props:{monster:{type:Object}},setup(e){(0,i.bv)((()=>{t.monsterPreHp=e.monster.hp,_._.autoSelect()}));const t=(0,b.qj)({deadImg:(0,i.Fl)((()=>M.Z.state.assetsImgList.find((e=>e.includes("dead"))))),unknown:(0,i.Fl)((()=>!M.Z.state.player.kills[e.monster.name])),img:(0,i.Fl)((()=>M.Z.state.monsterImgList.find((t=>t.includes(e.monster.img)))??e.monster.img))});return t},methods:{attackMonster(e){_._.autoSelect(),S.m.shake("monster"+e.id),E.S.handleAttack(this.$store.state.selected,e),_._.autoSelect()}}};const H=(0,q.Z)(R,[["render",y],["__scopeId","data-v-617e44e5"]]);var C=H;const I={key:0},D={class:"d-flex dead",title:"dead"},A=["id","src"],B={key:1},L={key:0,class:"border border-primary w-100 hp-bar rounded-pill align-items-center d-flex"},j={class:"text-light pb-1 fs-sm"},z=["id"],P=["id","src"],O={class:"d-flex"},F={class:"border rounded-circle text-light h-25 w-25",title:"Strength"},U={class:"border rounded-circle text-light h-25 w-25",title:"Actions"};function $(e,t,a,s,n,c){const l=(0,i.up)("HpBar");return a.character.hp<.1?((0,i.wg)(),(0,i.iD)("div",I,[(0,i._)("strong",D,(0,r.zw)(a.character.name),1),(0,i._)("img",{id:"charImg"+a.character.id,class:"img-fluid w-75 events-none",src:e.deadImg,onClick:t[0]||(t[0]=e=>c.selectCharacter(a.character))},null,8,A)])):((0,i.wg)(),(0,i.iD)("div",B,[(0,i.Wm)(l,{hp:a.character.hp,baseHp:a.character.baseHp,selected:e.selected?.id==a.character.id},null,8,["hp","baseHp","selected"]),a.character.baseMagic>0?((0,i.wg)(),(0,i.iD)("div",L,[(0,i._)("div",{class:"bg-primary hp-bar text-absolute-center rounded-pill",style:(0,r.j5)("width: "+(a.character.magic>0?a.character.magic/a.character.baseMagic*100:0)+"%")},[(0,i._)("span",j,(0,r.zw)(Math.round(10*a.character.magic)/10)+"/"+(0,r.zw)(a.character.baseMagic),1)],4)])):(0,i.kq)("",!0),(0,i._)("div",{class:"position-absolute hit selectable",id:"hit"+a.character.id},null,8,z),(0,i._)("strong",{class:(0,r.C_)(["d-flex text-light",a.character.actions<1?"text-danger":""])},(0,r.zw)(a.character.name),3),(0,i._)("div",null,[(0,i._)("img",{id:"charImg"+a.character.id,class:(0,r.C_)([c.dynamicClasses(a.character,e.selected),"img-fluid w-75 click"]),src:a.character.img,onClick:t[1]||(t[1]=e=>c.selectCharacter(a.character))},null,10,P)]),(0,i._)("div",O,[(0,i._)("p",F,(0,r.zw)(a.character.strength),1),(0,i._)("p",U,(0,r.zw)(a.character.actions),1)])]))}var W={components:{HpBar:Z},name:"CombatCharacter",props:{character:{type:Object}},setup(e){const t=(0,b.qj)({selected:(0,i.Fl)((()=>M.Z.state.selected)),hp:(0,i.Fl)((()=>e.character.hp)),deadImg:(0,i.Fl)((()=>M.Z.state.assetsImgList.find((e=>e.includes("dead")))))});return t},methods:{selectCharacter(e){e.actions>0&&this.$store.commit("selectCharacter",e)},dynamicClasses(e,t){let a="";return a+=e.statusEffects.map((e=>e.negative?e.name:"")).join(" "),a+=t?.id==e.id?" animate__animated animate__slow animate__pulse animate__infinite":"",a}}};const Y=(0,q.Z)(W,[["render",$]]);var N=Y;const Q=e=>((0,i.dD)("data-v-3ee3e7e6"),e=e(),(0,i.Cn)(),e),G={class:"blur-box text-light font-weight-bold h-50"},K={class:"border-bottom"},J={class:""},V=Q((()=>(0,i._)("i",{class:"fad fa-coins"},null,-1))),X={key:0},ee=["title"],te=["innerHTML"],ae=["title"],se=["innerHTML"];function ie(e,t,a,s,n,c){return(0,i.wg)(),(0,i.iD)("div",G,[(0,i._)("p",K,(0,r.zw)(a.monster.name)+"'s Loot!",1),(0,i._)("p",J,[(0,i.Uk)((0,r.zw)(a.monster.loot.gold)+" ",1),V]),a.monster.loot.items.length>0?((0,i.wg)(),(0,i.iD)("ul",X,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.monster.loot.items,(e=>((0,i.wg)(),(0,i.iD)("li",{class:(0,r.C_)(c.getRarityFullName(this.$store.state.items.filter((t=>t.name==e))[0].rarity)),key:e,title:c.getItemEffectsDisplay(this.$store.state.items.filter((t=>t.name==e))[0])},[(0,i.Uk)((0,r.zw)(e)+" ",1),(0,i._)("span",{innerHTML:c.getItemIcon(this.$store.state.items.filter((t=>t.name==e))[0].type)},null,8,te)],10,ee)))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.monster.equipment,(e=>((0,i.wg)(),(0,i.iD)("li",{class:(0,r.C_)(c.getRarityFullName(this.$store.state.items.filter((t=>t.name==e))[0].rarity)),key:e,title:c.getItemEffectsDisplay(this.$store.state.items.filter((t=>t.name==e))[0])},[(0,i.Uk)((0,r.zw)(e)+" ",1),(0,i._)("span",{innerHTML:c.getItemIcon(this.$store.state.items.filter((t=>t.name==e))[0].type)},null,8,se)],10,ae)))),128))])):(0,i.kq)("",!0)])}var re=a(4485),ne=a(9370),ce=a(5216),le={name:"LootMonster",props:{monster:{type:Object}},setup(){const e=(0,b.qj)({});return e},methods:{getRarityFullName:re.$,getItemIcon(e){return(0,ne._)(e)},getItemEffectsDisplay(e){return ce.x.getItemEffectsDisplay(e)}}};const oe=(0,q.Z)(le,[["render",ie],["__scopeId","data-v-3ee3e7e6"]]);var me=oe,fe=a(2369),pe=a(4677),he={name:"BattleField",components:{EnemyMonster:C,CombatCharacter:N,LootMonster:me},watch:{charactersWithActions:function(){this.charactersWithActions<1&&this.characters.length>0&&_._.endPhase()},timer:function(){this.timer<=0&&this.monstersWithHp>0&&_._.endPhase()},charactersWithHp:function(){const e=(0,pe.pm)();this.characters.length<1?(clearInterval(M.Z.state.timerInterval),M.Z.state.timer=1e4*M.Z.state.player.characters.length,Qe.push({name:"MapLocation"}),e.success("You fled from battle")):this.charactersWithHp<1&&(clearInterval(M.Z.state.timerInterval),M.Z.state.timer=1e4*M.Z.state.player.characters.length,Qe.push({name:"CharacterForm"}),e.error("Your party is dead, revive or start over"))},monstersWithHp:function(){const e=(0,pe.pm)();this.monstersWithHp<1&&this.charactersWithHp>0&&(clearInterval(M.Z.state.timerInterval),M.Z.state.timer=1e4*M.Z.state.player.characters.length,fe.R.victory(),e.success("Victory!"))}},setup(){(0,i.bv)((()=>{let e=(0,s.yj)();fe.R.spawnMonsters(e.params.monsterLvl,e.params.numMonsters),_._.enterBattle(),fe.R.setTimer()}));const e=(0,b.qj)({monsters:(0,i.Fl)((()=>M.Z.state.combatMonsters)),characters:(0,i.Fl)((()=>M.Z.state.player.characters.filter((e=>e.inBattle)))),monstersWithHp:(0,i.Fl)((()=>e.monsters.filter((e=>e.hp>0)).length)),charactersWithActions:(0,i.Fl)((()=>e.characters.filter((e=>e.actions>0&&e.hp>0)).length)),charactersWithHp:(0,i.Fl)((()=>e.characters.filter((e=>e.hp>0)).length)),bgImg:(0,i.Fl)((()=>M.Z.state.locationImgList.find((e=>e.includes("lvl"+(M.Z.state.location+1)+"-bg"))))),timer:(0,i.Fl)((()=>M.Z.state.timer))});return e},methods:{adventureOn(){Qe.push({name:"AreaLocation"})}},beforeRouteLeave(){const e=(0,pe.pm)();if(this.charactersWithHp>0&&this.monstersWithHp>0)return e.warning("Can't flee from battle."),!1;this.$store.commit("bringOutYourDead")}};const de=(0,q.Z)(he,[["render",h],["__scopeId","data-v-063f20ab"]]);var ue=de;function ge(e,t,a,s,r,n){return(0,i.wg)(),(0,i.iD)("h1",null,"Hello adventurer you seem lost, stay awhile and rest or continue on your adventure")}var ye={};const be=(0,q.Z)(ye,[["render",ge]]);var ve=be,ke=a(9242);const we={class:"font-weight-bold text-black label w-title-auto m-auto"},Te={class:"row justify-content-center"},qe={class:"col-10 col-md-8"},xe={class:"form-group mt-3"},Ze=(0,i._)("label",{class:"label px-2"},"Choose a Class",-1),Me={id:"classType",class:"scrollable row"},Ee=["value","onClick","title","innerHTML"],_e=(0,i._)("label",{class:"label px-2 mt-2"},"Choose a Race",-1),Se={id:"race",class:"scrollable row"},Re=["value","onClick","title","innerHTML"],He={id:"imgSelect",class:"scrollable row mt-3"},Ce=["value","onClick","src","alt"],Ie=(0,i._)("button",{class:"btn btn-warning btn-block mt-2",type:"submit",title:"create"},[(0,i._)("i",{class:"fas fa-torah"})],-1),De={key:1,class:"row"};function Ae(e,t,a,s,n,c){const l=(0,i.up)("CombatCharacter");return(0,i.wg)(),(0,i.iD)("div",{class:"container-fluid bg-img",style:(0,r.j5)("background-image: url("+e.bgImg+")")},[e.cheated?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("i",{key:0,class:"fal fa-alicorn position-absolute left text-dark",onClick:t[0]||(t[0]=(...e)=>c.cheat&&c.cheat(...e))})),(0,i._)("h5",we,(0,r.zw)(e.characterCount<6?"Create Your Character":"Your Party"),1),(0,i._)("div",Te,[(0,i._)("div",qe,[e.characterCount<6?((0,i.wg)(),(0,i.iD)("form",{key:0,onSubmit:t[2]||(t[2]=(0,ke.iM)(((...e)=>c.createCharacter&&c.createCharacter(...e)),["prevent"]))},[(0,i._)("div",xe,[(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"name",placeholder:"Name","onUpdate:modelValue":t[1]||(t[1]=t=>e.name=t)},null,512),[[ke.nr,e.name]])]),Ze,(0,i._)("div",Me,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.classList,(t=>((0,i.wg)(),(0,i.iD)("span",{class:(0,r.C_)(["col click d-flex justify-content-center p-3",e.selectedClassType==t.name?"border border-warning ":""]),value:t.name,key:t.name,onClick:e=>c.selectClassType(t.name),title:t.name,innerHTML:t.icon},null,10,Ee)))),128))]),_e,(0,i._)("div",Se,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.raceList,(t=>((0,i.wg)(),(0,i.iD)("span",{class:(0,r.C_)(["col click d-flex justify-content-center p-3",e.selectedRace==t.name?"border border-warning ":""]),value:t.name,key:t.name,onClick:e=>c.selectRace(t.name),title:t.name,innerHTML:t.icon},null,10,Re)))),128))]),(0,i._)("div",He,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.imgs,(t=>((0,i.wg)(),(0,i.iD)("img",{class:(0,r.C_)(["img-fluid col-lg-3 col-md-6 col-12 click",e.selectedImg==t?"border border-warning ":""]),value:t,key:t,onClick:e=>c.selectImg(t),src:t,alt:t},null,10,Ce)))),128))]),Ie],32)):((0,i.wg)(),(0,i.iD)("div",De,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.characters,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"col-4 click",key:e.id,"data-toggle":"modal","data-target":"#characterDetailsModal",title:"stats"},[(0,i.Wm)(l,{character:e},null,8,["character"])])))),128))]))])])],4)}var Be=a(1067),Le=a(7387),je=a.n(Le),ze=a(1988);function Pe(e,t,a){const s=new Date,i={value:t,expiry:s.getTime()+a};window.localStorage.setItem(e,JSON.stringify(i))}function Oe(e){const t=window.localStorage.getItem(e);if(!t)return null;const a=JSON.parse(t),s=new Date;return s.getTime()>a.expiry?(window.localStorage.removeItem(e),null):a.value}var Fe={components:{CombatCharacter:N},name:"CharacterForm",setup(){(0,i.bv)((()=>{e.cheated=Oe("cheated")}));const e=(0,b.qj)({classList:[{name:"Barbarian",icon:'<i class="fal fa-axe-battle icon-fluid"></i>'},{name:"Bard",icon:'<i class="fal fa-mandolin icon-fluid"></i>'},{name:"Cleric",icon:'<i class="far fa-plus-octagon icon-fluid"></i>'},{name:"Fighter",icon:'<i class="fal fa-swords icon-fluid"></i>'},{name:"Monk",icon:'<i class="fal fa-fist-raised icon-fluid"></i>'},{name:"Paladin",icon:'<i class="far fa-helmet-battle icon-fluid"></i>'},{name:"Ranger",icon:'<i class="far fa-bow-arrow icon-fluid"></i>'},{name:"Rogue",icon:'<i class="far fa-dagger icon-fluid"></i>'},{name:"Warlock",icon:'<i class="fas fa-skull icon-fluid"></i>'},{name:"Wizard",icon:'<i class="fal fa-hat-wizard icon-fluid"></i>'}],raceList:[{name:"dragonborn",icon:'<i class="fas fa-dragon icon-fluid"></i>'},{name:"dwarf",icon:'<i class="fas fa-hammer-war icon-fluid"></i>'},{name:"elf",icon:'<i class="fas fa-leaf icon-fluid"></i>'},{name:"halfling",icon:'<i class="fas fa-child icon-fluid"></i>'},{name:"human",icon:'<i class="fas fa-user-alt icon-fluid"></i>'}],name:"",selectedClassType:"",selectedRace:"",selectedImg:"",imgs:(0,i.Fl)((()=>M.Z.state.characterImgList)),characterCount:(0,i.Fl)((()=>M.Z.state.player.characters.length)),characters:(0,i.Fl)((()=>M.Z.state.player.characters)),selectedCharacter:"",bgImg:(0,i.Fl)((()=>M.Z.state.locationImgList.find((e=>e.includes("create-bg"))))),cheated:!1});return e},methods:{createCharacter(){const e=(0,pe.pm)();let t={name:this.name,classType:this.selectedClassType.toLowerCase(),race:this.selectedRace,img:this.selectedImg,actions:6,dodge:0,hp:5,luck:0,strength:0,magic:0,thorns:0,lifeSteal:0,physicalResistance:0,magicResistance:0};if(M.Z.state.player.characters.find((e=>e.name==this.name)))return e.warning("Too confusing to have two members with the same name, lets give you a nickname...",{timeout:5e3}),this.name="",void je()("#name").focus();_._.createCharacter(t),e.success(t.name+" has joined your party!"),this.name="",this.classType="",this.selectedRace="",this.selectedCharacter="",this.selectedClassType="",this.selectedImg=""},selectImg(e){this.selectedImg=e},selectClassType(e){this.selectedClassType=e},selectCharacter(e){this.selectedCharacter=e},selectRace(e){this.selectedRace=e},async cheat(){let e=await Be.Z.cheat();if("easy"==e&&(M.Z.state.player.options.difficulty=e),this.cheated)return;const t=(0,pe.pm)();let a=M.Z.state.items.find((t=>t.name==e));a&&(M.Z.state.player.items.push(new ze.c(a)),M.Z.state.player.gold-=a.price,t.success("You got a "+a.name+"! cheater"),Pe("cheated",!0,864e5),this.cheated=Oe("cheated"))}}};const Ue=(0,q.Z)(Fe,[["render",Ae]]);var $e=Ue;const We=(0,pe.pm)(),Ye=[{path:"/battle",name:"battleField",component:ue,beforeEnter:function(){0==M.Z.state.player.characters.length&&(We.warning("You cannot battle without a party.",{timeout:3e3}),Ne.push({name:"CharacterForm"}))}},{path:"/",name:"CharacterForm",component:$e},{path:"/about",name:"about",component:()=>a.e(443).then(a.bind(a,7381))},{path:"/map",name:"MapLocation",component:()=>a.e(443).then(a.bind(a,3707))},{path:"/location",name:"AreaLocation",component:()=>a.e(443).then(a.bind(a,121)),beforeEnter:function(){0==M.Z.state.player.characters.length&&(We.warning("You cannot shop without a party.",{timeout:3e3}),Ne.push({name:"CharacterForm"}))}},{path:"/shop",name:"MainShop",component:()=>a.e(443).then(a.bind(a,771)),beforeEnter:function(){0==M.Z.state.player.characters.length&&(We.warning("You cannot shop without a party.",{timeout:3e3}),Ne.push({name:"CharacterForm"}))}},{path:"/:any(.*)",component:ve}],Ne=(0,s.p7)({history:(0,s.PO)("/blades-of-desolation/"),routes:Ye});var Qe=Ne},9012:function(e,t,a){a.d(t,{K:function(){return o}});var s=a(2482),i=a(8914),r=a(2447),n=a(6938),c=a(4677);class l{constructor(){(0,s.Z)(this,"toast",(0,c.pm)())}learnAbility(e,t){if(!this.canLearnAbility(e,t))return!1;if(t.abilities.find((t=>t.name==e)))return void this.levelUpAbility(e,t);let a=i.Z.state.abilities.find((t=>t.name==e));t.abilities.push(new r.$(a)),this.toast.success(t.name+" Learned "+e,{timeout:1e4})}canLearnAbility(e,t){let a=t.abilities.find((t=>t.name==e));return a?a.level<t.level:(a=i.Z.state.abilities.find((t=>t.name==e)),t.classType==a.classType&&a.level<=t.level)}levelUpAbility(e,t){let a=t.abilities.find((t=>t.name==e)),s=i.Z.state.abilities.find((t=>t.name==e));a.level++,a.level%2==0?a.value.forEach(((e,t)=>a.value[t]+=Math.round(s.value[t]/2))):(a.baseUses++,a.uses++),this.toast.success(t.name+" Level up "+e,{timeout:1e4})}useAbility(e,t){let a={...e};a.uses<=0||(a.areaEffect?"enemies"==t||a?.targetsEnemy?i.Z.state.combatMonsters.forEach((e=>{a["areaEffect"]=!1,this.useAbility(a,e)})):i.Z.state.player.characters.forEach((e=>{a["areaEffect"]=!1,this.useAbility(a,e)})):(!a.strength||a.buff||a.debuff||(a["actions"]=1,a["hp"]=1,a["lifeSteal"]=0,a["luck"]=0,a["speed"]=a["speed"]??1,a["isSpell"]=!0,n.S.handleAttack(a,t)),a.effect&&a.effect.forEach((function(e,s){Array.isArray(t[e])?t[e].push(a.value[s]):"number"!==typeof a.value[s]?t[e]=a.value[s]:a.buff?t[e]+=a.value[s]:t[e]-=a.value[s]})),a.temp&&(a.debuff&&a.effect.forEach((function(e,s){t["debuffs"].push({effect:e,value:a.value[s]})})),a.buff&&a.effect.forEach((function(e,s){t["buffs"].push({effect:e,value:a.value[s]})})))))}}const o=new l},3818:function(e,t,a){a.d(t,{m:function(){return l}});var s=a(6197),i=a(9370),r=a(7387),n=a.n(r);class c{shake(e){let t=n()("#"+e);new Promise((e=>{function a(a){a.stopPropagation(),t.removeClass("animate__animated animate__headShake"),e("Animation ended")}t.addClass("animate__animated animate__headShake"),t.on("animationend",a)}))}pounce(e){let t=n()("#"+e);new Promise((e=>{function a(a){a.stopPropagation(),t.removeClass("animate__animated animate__tada"),e("Animation ended")}t.addClass("animate__animated animate__tada"),t.on("animationend",a)}))}fadeOutUp(e,t,a,r=""){let c=n()("#"+e),l=(0,s.O)(),o=(0,i.p)(r);c.append('<h3 id="'+l+'" class="position-absolute d-flex">'+a+t+o+"</h3>"),c=n()("#"+l),new Promise((e=>{function t(t){t.stopPropagation(),c.remove(),e("Animation ended")}c.addClass("-"==a?"text-danger":"text-success"),c.addClass("animate__slower animate__animated animate__fadeOutUp "+a),c.on("animationend",t)}))}}const l=new c},6938:function(e,t,a){a.d(t,{S:function(){return f}});var s=a(2482),i=a(3818),r=a(2074),n=a(3565),c=a(2369),l=a(4677),o=a(5279);class m{constructor(){(0,s.Z)(this,"toast",(0,l.pm)()),(0,s.Z)(this,"animationDelay",750)}handleAttack(e,t){let a=t instanceof n.d,s=a?"-":"+",l=a?0:200;0==l&&(e.actions-=c.R.getSpeedCost(e,!!e["isSpell"]&&e.speed)),(0,r._)(l).then((()=>{let n=e.strength;return t.immunities.filter((e=>"crit"==e)).length<1&&(n=this.crit(e,n)),this.dodge(t)?(i.m.fadeOutUp("hit"+t.id,"<span>dodged</span>",s),void(a||"rogue"!==t.classType||t.abilities.forEach((e=>"sneak attack"===e.name?e.uses=e.baseUses:null)))):(this.thorns(e,t),t.absorb==e.dmgType&&""!=t.absorb?(t.hp+=e.strength,void i.m.fadeOutUp("hit"+t.id,e.strength,"+")):(n=this.resistance({strength:n,dmgType:e.dmgType},t),n=this.vulnerable({strength:n,dmgType:e.dmgType},t),this.lifeSteal(e,n),n=this.immunities(t,e,n),this.statusEffects(t,e),i.m.fadeOutUp("hit"+t.id,n,"-",e.dmgType),(0,r._)(200).then((()=>{i.m.shake("charImg"+t.id)})),void(t.hp-=n)))})),this.animationDelay=750,e instanceof n.d&&o.j.triggerAbilities(e,t)}thorns(e,t){if(t.thorns<=0||"range"==e.dmgType||e["isSpell"])return;let a=t.thorns;a=this.immunities(e,t,a),a=this.resistance({strength:a,dmgType:t.dmgType},e),a=this.vulnerable({strength:a,dmgType:t.dmgType},e),e.hp-=a,i.m.fadeOutUp("hit"+e.id,a,"-",t.dmgType)}dodge(e){let t=Math.floor(100*Math.random())+1,a=e.dodge+e.luck;return!e["statusEffects"].find((e=>"petrify"==e.name&&e.negative))&&a>=t}resistance(e,t){let a=t instanceof n.d,s=a?"-":"+",r=e.strength;return(t.resistances.filter((t=>t==e.dmgType)).length>0||t.resistances.find((e=>"melee"==e))&&"range"==e.dmgType)&&(r=Math.round(r/2),setTimeout((()=>{i.m.fadeOutUp("hit"+t.id,"<span>resistant</span>",s)}),this.animationDelay),this.animationDelay+=750),(t.physicalResistance>0&&"melee"==e.dmgType||t.physicalResistance>0&&"range"==e.dmgType)&&(r-=Math.round(r*(t.physicalResistance/100)*10)/10),t.magicResistance>0&&"melee"!=e.dmgType&&"range"!=e.dmgType&&(r-=Math.round(r*(t.magicResistance/100)*10)/10),r<0?0:r}vulnerable(e,t){let a=t instanceof n.d,s=a?"+":"-",r=e.strength;return t.vulnerabilities.filter((t=>t==e.dmgType)).length>0&&(r=Math.round(2*r),setTimeout((()=>{i.m.fadeOutUp("hit"+t.id,"<span>vulnerable</span>",s)}),this.animationDelay),this.animationDelay+=750),r}immunities(e,t,a){let s=e instanceof n.d,r=s?"-":"+";return e.immunities.filter((e=>e==t.dmgType)).length>0?(setTimeout((()=>{i.m.fadeOutUp("hit"+e.id,"<span>immune</span>",r)}),this.animationDelay),this.animationDelay+=750,0):a}lifeSteal(e,t){if(e.lifeSteal>0){let a=Math.round(t*(e.lifeSteal/100)*10)/10;a>0&&(i.m.fadeOutUp("hit"+e.id,a,"+"),e.hp=Math.round(10*(a+e.hp))/10)}}reflect(e,t){if(t.reflect>0){let a=Math.round(e.strength*t.reflect);a>0&&(e.hp-=a,i.m.fadeOutUp("hit"+e.id,a,"-"))}}crit(e,t){let a=e instanceof n.d,s=a?"-":"+",r=Math.ceil(400*Math.random()),c=1+Math.round(e.luck);return c>=r&&(t*=2,i.m.fadeOutUp("hit"+e.id,"crit!",s)),t}statusEffects(e,t){let a=e instanceof n.d,s=a?"+":"-";t.statusEffects.forEach((t=>{let a={...t},r=Math.ceil(100*Math.random()),n=e.immunities.find((e=>e==a.name)),c=e.resistances.find((e=>e==a.name)),l=e.vulnerabilities.find((e=>e==a.name));if(r*=l?.5:1,r*=c?2:1,!(a.chance<r||a.negative||n)){if(e["statusEffects"].find((e=>e.name==a.name&&e.negative)))return e["statusEffects"].filter((e=>e.name==a.name&&e.negative))[0].value+=a.value,setTimeout((()=>{i.m.fadeOutUp("hit"+e.id,"<span>"+a.name+"</span>",s)}),this.animationDelay),void(this.animationDelay+=750);a.negative=!0,e["statusEffects"].push(a),setTimeout((()=>{i.m.fadeOutUp("hit"+e.id,"<span>"+a.name+"</span>",s)}),this.animationDelay),this.animationDelay+=750}}))}}const f=new m},4629:function(e,t,a){a.d(t,{_:function(){return g}});var s=a(2482),i=a(6197),r=a(8914);class n{constructor(e){this.id=(0,i.O)(),this.name=""==e.name?"unknown":e.name,this.classType=e.classType??"unknown",this.race=e.race??"unknown",this.img=e.img,this.img||this.randomCharacterImg(),this.spells=e.spells??[],this.equipment=e.equipment??[],this.mainHand=e.mainHand??null,this.offHand=e.offHand??null,this.armor=e.armor??null,this.cloak=e.cloak??null,this.accessory=e.accessory??null,this.sets=e.sets??[],this.dmgType=e.dmgType??"melee",this.hp=e.hp??5,this.magic=e.magic??0,this.luck=e.luck??0,this.strength=e.strength??1,this.dodge=e.dodge??0,this.thorns=e.thorns??0,this.actions=e.actions??6,this.physicalResistance=e.physicalResistance??0,this.magicResistance=e.magicResistance??0,this.immunities=e.immunities??[],this.vulnerabilities=e.vulnerabilities??[],this.resistances=e.resistances??[],this.statusEffects=e.statusEffects??[],this.lifeSteal=e.lifeSteal??0,this.regen=e.regen??0,this.magicRegen=e.magicRegen??0,this.absorb=e.absorb??"",this.level=e.level??0,this.statBonus=e.statBonus??0,this.exp=e.exp??0,this.inBattle=e.inBattle??!0,this.baseHp=e.baseHp??this.hp,this.baseActions=e.baseActions??this.actions,this.baseMagic=e.baseMagic??this.magic,this.baseStrength=e.baseStrength??this.strength,this.buffs=[],this.debuffs=[],this.abilities=[]}randomCharacterImg(){let e="",t=Math.floor(Math.random()*r.Z.state.characterImgList.length);e=r.Z.state.characterImgList[t],this.img=e}}var c=a(3998),l=a(4677),o=a(3818),m=a(2369),f=a(5279),p=a(9359);const h={berserkers:[{effect:["strength"],value:[5]},{effect:["resistances","magicResistance"],value:["fire",5]}],"isenhart's":[{effect:["strength"],value:[2]},{effect:["regen"],value:[1]},{effect:["dmgType","lifeSteal"],value:["radiant",5]}],deaths:[{effect:["baseMagic"],value:[3]},{effect:["magicRegen"],value:[1]}],"angelic raiment":[{effect:["strength"],value:[5]},{effect:["resistance","resistance"],value:["cold","necrotic"]},{effect:["regen","magicRegen"],value:[2,1]}],"cathans traps":[{effect:["magicResistance"],value:[5]},{effect:["resistances"],value:["lightning"]},{effect:["resistances"],value:["fire"]},{effect:["thorns","magicRegen","lifeSteal"],value:[6,1,8]}]};var d=a(5216);class u{constructor(){(0,s.Z)(this,"toast",(0,l.pm)())}getCharacterById(e){return r.Z.state.player.characters.find((t=>t.id==e))}takeTurn(){this.prepPhase(),this.attackPhase()}prepPhase(){r.Z.state.combatMonsters.filter((e=>e.hp>0)).length>0&&m.R.setTimer(),this.removeDestroyedCharacters(),this.resetActions(),this.triggerStatusEffects(),this.autoSelect()}attackPhase(){}endPhase(){clearInterval(r.Z.state.timerInterval),r.Z.state.timer=1e4*r.Z.state.player.characters.length,this.regen(),this.magicRegen(),r.Z.state.selected="",this.resetExtraStats(),f.j.takeTurn()}resetActions(){r.Z.state.player.characters.forEach((e=>{e.actions=e.actions>=0?e.baseActions:e.actions+e.baseActions;const t=Math.ceil(100*Math.random())+e.luck;t>90&&e.abilities.forEach((e=>e.uses=e.baseUses))}))}resetExtraStats(){r.Z.state.player.characters.forEach((e=>{e.hp>e.baseHp&&(e.hp=e.baseHp),e.magic>e.baseMagic&&(e.magic=e.baseMagic)}))}getAverageCharacterLvl(){let e=0;return r.Z.state.player.characters.forEach((t=>e+=t.level)),e?Math.floor(e/r.Z.state.player.characters.length):e}getPartyLuck(){let e=0;return r.Z.state.player.characters.forEach((t=>e+=t.luck)),e}removeDestroyedCharacters(){r.Z.state.player.characters.forEach((e=>{e.hp<-2*e.baseHp&&(r.Z.commit("destroyCharacter",e.id),this.toast.error(e.name+" was destroyed"))}))}autoSelect(){r.Z.state.selected.hp>0&&r.Z.state.selected.actions>0||r.Z.state.player.characters.forEach((e=>{e.actions>0&&e.hp>0&&e.inBattle&&(r.Z.state.selected=e)}))}regen(){r.Z.state.player.characters.forEach((e=>{(e.regen>0??e.inBattle)&&(o.m.fadeOutUp("hit"+e.id,e.regen,"+"),e.hp+=e.regen)}))}magicRegen(){r.Z.state.player.characters.forEach((e=>{(e.magicRegen>0??e.inBattle)&&(e.magic+=e.magicRegen,e.magic=e.magic>e.baseMagic?e.baseMagic:e.magic)}))}triggerStatusEffects(){r.Z.state.player.characters.forEach((e=>{e.statusEffects.forEach((t=>{t.negative&&"number"===typeof t.value&&(e[t.effect]=t.value>0?e[t.effect]-t.value:t.value,"hp"==t.effect&&o.m.fadeOutUp("hit"+e.id,t.value,"-","poison"))}))}))}attemptToFlee(e){let t=r.Z.state.combatMonsters.filter((e=>e.hp>0)).length,a=r.Z.state.player.characters.filter((e=>e.inBattle)).length,s=a==t?.5:a/t;s+=e.luck/100;let i=Math.random();s>i?(e.inBattle=!1,this.toast.success(e.name+" got away")):this.toast.error("Failed to escape")}enterBattle(){r.Z.state.player.characters.forEach((e=>e.inBattle=!0))}addItemStats(e,t){r.Z.commit("equipItem",{characterId:e.id,item:t})}removeItemStats(e,t){r.Z.commit("unequipItem",{characterId:e.id,item:t})}addSetBonuses(e){let t={};e.equipment.forEach((e=>{e.set&&(t[e.set]=t[e.set]>0?t[e.set]+1:1)}));for(let a in t)if(t[a]>1)for(let s=0;s<t[a]-1;s++)this.addItemStats(e,h[a][s]),e.sets.push(d.x.getItemEffectsDisplay(h[a][s]))}removeSetBonuses(e){let t={};e.equipment.forEach((e=>{e.set&&(t[e.set]=t[e.set]>0?t[e.set]+1:1)}));for(let a in t)if(t[a]>1){e.sets=[];for(let s=0;s<t[a]-1;s++)this.removeItemStats(e,h[a][s])}}loadCharacter(e,t){r.Z.state.player.characters[e]=new n(t)}createCharacter(e){let t=[];switch(e.classType){case"rogue":"Royce"==e.name&&(e["strength"]+=2,e["hp"]+=5),e["strength"]++,e["actions"]++,e["dodge"]+=5;break;case"ranger":"Aragorn"==e.name&&(e["regen"]=2),e["strength"]++,e["actions"]++,e["hp"]+=5;break;case"bard":"Thom"==e.name&&(e["luck"]+=5),e["strength"]++,e["dodge"]+=2,e["magicRegen"]=1,e["magic"]++,t.push("vicious mockery");break;case"barbarian":"Conan"==e.name&&(e["strength"]+=3),e["strength"]+=2,e["physicalResistance"]+=5;break;case"wizard":e["magic"]+=3,e["magicRegen"]=1,"Gandolf"==e.name&&e["magicRegen"]++,t.push(p.w.findRandomLearnableSpell(e));break;case"cleric":"Moraine"==e.name&&(e["magicResistance"]+=10),e["magic"]++,e["hp"]+=5,e["magicRegen"]=1,t.push("light heal");break;case"fighter":"Cloud"==e.name&&(e["hp"]+=15),e["strength"]++,e["actions"]++;break;case"monk":"Lee"==e.name&&(e["actions"]+=2),e["strength"]++,e["actions"]++,e["physicalResistance"]+=10;break;case"paladin":"Kaladin"==e.name&&(e["thorns"]+=3),e["strength"]++,e["magicRegen"]=1,e["magic"]++,t.push("sacred flame");break;case"warlock":e["magic"]+=3,"Grim"==e.name&&(e["lifeSteal"]+=10),e["magicRegen"]=1,t.push("edritch blast");break;default:e["classType"]="unknown",e[(0,c.w)()]+=3,e[(0,c.w)()]+=3,e["magicRegen"]=e.magic>0?1:0,e.magic>0&&t.push(p.w.findRandomLearnableSpell(e));break}switch(e.race){case"dragonborn":e["strength"]+=2;break;case"human":e["strength"]++,e["hp"]+=5;break;case"elf":e["magic"]>0?e["magic"]++:e["dodge"]+=1,e["actions"]++;break;case"dwarf":e["hp"]+=5,e["resistances"]=["poison"];break;case"halfling":e["luck"]+=5;break;default:e["race"]="unknown",e[(0,c.w)()]+=3,e[(0,c.w)()]+=3,e.magic>0&&t.push(p.w.findRandomLearnableSpell(e));break}let a=new n(e);t.forEach((e=>p.w.learnSpell(e,a))),r.Z.state.player.characters.push(a),m.R.addHealthPot(),m.R.getRaceClassSpecificItem(a)}}const g=new u},2369:function(e,t,a){a.d(t,{R:function(){return w}});var s=a(2482),i=a(1988),r=a(3565),n=a(8914);const c={barbarian:{1:"rage"},bard:{2:"song of rest"},cleric:{},fighter:{1:"second wind",2:"action surge",14:"indomitable"},monk:{1:"fury of blows",4:"quickening heal"},paladin:{1:"laying on hands",2:"divine smite"},ranger:{14:"vanish"},rogue:{1:"sneak attack",7:"evasion"},warlock:{},wizard:{1:"arcane recovery"}};var l=a(3998);function o(e,t,a){let s={},i="bard"==e||"cleric"==e||"ranger"==e||"warlock"==e||"wizard"==e;switch(e){case"rogue":s["classBoost"]=["baseStrength","strength","dodge"],2===a&&(s["classBoost"]=["actions","actions"]),5===a&&(s["classBoost"]=["physicalResistance","physicalResistance","physicalResistance","physicalResistance","physicalResistance"]),a%3==0&&s["classBoost"].push("luck");break;case"ranger":s["classBoost"]=["baseStrength","strength","baseHp","hp"],a%3==0&&(s["classBoost"].push("baseMagic"),s["classBoost"].push("magic"));break;case"barbarian":s["classBoost"]=["baseStrength","baseStrength","strength","strength"],a%3==0&&s["classBoost"].push("luck");break;case"bard":s["classBoost"]=["dodge","magic","baseMagic"],a%3==0&&s["classBoost"].push("luck");break;case"wizard":s["classBoost"]=["baseMagic","baseMagic","magic","magic"],a%5==0&&s["classBoost"].push("magicRegen");break;case"cleric":s["classBoost"]=["baseMagic","magic","baseHp","hp"],a%5==0&&s["classBoost"].push("magicRegen");break;case"fighter":s["classBoost"]=["baseStrength","strength","physicalResistance"],a%3==0&&s["classBoost"].push("dodge");break;case"monk":s["classBoost"]=["physicalResistance","magicResistance"],a%3==0&&(s["classBoost"].push("strength"),s["classBoost"].push("baseStrength"));break;case"paladin":s["classBoost"]=["baseStrength","strength","thorns"],a%2==0&&(s["classBoost"].push("magic"),s["classBoost"].push("baseMagic")),a%5==0&&s["classBoost"].push("magicRegen");break;case"warlock":s["classBoost"]=["baseMagic","magic","baseMagic","magic"],a%5==0&&s["classBoost"].push("magicRegen");break;default:s["classBoost"]=[[(0,l.w)()],[(0,l.w)()]];break}switch(t){case"dragonborn":s["raceBoost"]=["baseStrength","baseStrength","strength","strength"];break;case"human":s["raceBoost"]=["baseStrength","baseHp","strength","hp"];break;case"elf":s["raceBoost"]=["dodge",i?"baseMagic":"baseHp",i?"magic":"hp"];break;case"dwarf":s["raceBoost"]=["baseHp","baseHp","hp","hp"];break;case"halfling":s["raceBoost"]=["luck","luck"];break;default:s["raceBoost"]=[[(0,l.w)()],[(0,l.w)()]];break}return s}var m=a(5216);function f(e,t){let a="",s=Math.floor(3*Math.random());switch(e){case"human":switch(t){case"rogue":a="dagger";break;case"ranger":a="shortbow";break;case"barbarian":a="handaxe";break;case"bard":a="robe";break;case"wizard":a="wand";break;case"cleric":a="cape";break;case"fighter":a="shortsword";break;case"monk":a="quarterstaff";break;case"paladin":a="padded armor";break;case"warlock":a="bone wand";break;default:a=m.x.findRandomItem().name;break}break;case"dragonborn":switch(t){case"rogue":a="fang";break;case"ranger":a="hunters knife";break;case"barbarian":a="battleaxe";break;case"bard":a="belt of tricks";break;case"wizard":a="focus orb";break;case"cleric":a="cloak of winters";break;case"fighter":a="bastardsword";break;case"monk":a="handbands";break;case"paladin":a="spiked armor";break;case"warlock":a="orb of darkness";break;default:a=m.x.findRandomItem().name;break}break;case"elf":switch(t){case"rogue":a="hand crossbow";break;case"ranger":a="longbow";break;case"barbarian":a="longsword";break;case"bard":a="loot";break;case"wizard":a="unstable orb";break;case"cleric":a="gold ring";break;case"fighter":a="scimitar";break;case"monk":a="spear";break;case"paladin":a="shield";break;case"warlock":a="cloak of darkness";break;default:a=m.x.findRandomItem().name;break}break;case"dwarf":switch(t){case"rogue":a="darts";break;case"ranger":a="light crossbow";break;case"barbarian":a="morningstar";break;case"bard":a="lyre";break;case"wizard":a="cloak";break;case"cleric":a="holy symbol";break;case"fighter":a="warhammer";break;case"monk":a="hooded robe";break;case"paladin":a="helm";break;case"warlock":a="skull armor";break;default:a=m.x.findRandomItem().name;break}break;case"halfling":switch(t){case"rogue":a="dagger";break;case"ranger":a="bracers of archery";break;case"barbarian":a="bracers of defense";break;case"bard":a="luckstone";break;case"wizard":a="wand +1";break;case"cleric":a="ring of light";break;case"fighter":a="scimitar";break;case"monk":a="ring of soft";break;case"paladin":a="adamantine armor";break;case"warlock":a="deaths "+(0==s?"touch":1==s?"guard":"hand");break;default:a=m.x.findRandomItem().name;break}break;default:a=m.x.findRandomItem().name;break}return a}var p=a(4677),h=a(9012);class d{removeBuff(e,t){if(Array.isArray(e[t.effect])){let a=e[t.effect].findIndex((e=>e==t.value));e[t.effect].splice(a,1)}else"number"!==typeof t.value?e[t.effect]=null:e[t.effect]-=t.value}removeDebuff(e,t){if(Array.isArray(e[t.effect])){let a=e[t.effect].findIndex((e=>e==t.value));e[t.effect].splice(a,1)}else"number"!==typeof t.value?e[t.effect]=t.value:e[t.effect]+=t.value}}const u=new d;var g=a(4629),y=a(6897),b=a(7387),v=a.n(b);class k{constructor(){(0,s.Z)(this,"toast",(0,p.pm)())}spawnMonsters(e=n.Z.state.location,t=null){n.Z.state.combatMonsters=[];let a=n.Z.state.player.currentLocation.split("-"),s=a[1]>5||a[2]>6?6:3,i=t??Math.ceil(Math.random()*s);for(let r=0;r<i;r++)this.addMonsterToBattleField(null,e);m.x.randomItemDrop()}addMonsterToBattleField(e,t){let a,s,i=n.Z.state.monsters[t];if(e?(a=i.find((t=>t.name==e)),s=i.findIndex((t=>t.name==e))):(s=Math.floor(Math.random()*i.length),a={...i[s]}),a.loot.items.length>0&&(a.loot={...a.loot},a.loot.items=a.loot.items.filter(((e,t)=>{let s=Math.ceil(100*Math.random())-g._.getPartyLuck();return a.loot.chance[t]>s}))),a["statusEffects"]){a["statusEffects"]=[];for(let e=0;e<i[s].statusEffects.length;e++)a["statusEffects"].push({...i[s].statusEffects[e]})}n.Z.state.combatMonsters.push(new r.d(a))}victory(){y.g.updateQuest(),g._.resetExtraStats(),this.removeBuffs(),this.addKillCounts(),this.handleExpGain(),this.loot()}handleExpGain(){let e=n.Z.state.combatMonsters.map((e=>e.exp)).reduce(((e,t)=>e+t)),t=n.Z.state.player.characters.filter((e=>e.hp>0&&e.inBattle)).length,a=500;n.Z.state.player.characters.forEach((s=>{s.hp>0&&s.inBattle&&(s.exp+=e/t,s.exp>=n.Z.state.levelUpChart[s.level]&&(this.levelUp(s),setTimeout((()=>{this.toast.success(s.name+" Leveled Up! Go to details to improve stats.",{timeout:1e4})}),a),a+=2500))}))}getSpeedCost(e,t=!1){let a=t;return t||0===t||(a=3,e.equipment.forEach((e=>{a+=e.speed}))),a}setTimer(){n.Z.state.player.options&&"easy"==n.Z.state.player.options.difficulty||(v()(".modal").each((function(){v()(this).hide(),v()(".modal-backdrop").remove()})),clearInterval(n.Z.state.timerInterval),n.Z.state.timer=1e4*n.Z.state.player.characters.length,n.Z.state.timerInterval=setInterval((()=>{n.Z.state.timer-=100}),100))}loot(){n.Z.state.combatMonsters.forEach((e=>{n.Z.state.player.gold+=e.loot.gold,e.loot.items.forEach((e=>{let t=n.Z.state.items.filter((t=>t.name==e));n.Z.state.player.items.push(new i.c(t[0]))})),e.equipment.length>0&&e.equipment.forEach((e=>{let t=n.Z.state.items.filter((t=>t.name==e));n.Z.state.player.items.push(new i.c(t[0]))}))}))}removeBuffs(){n.Z.state.player.characters.forEach((e=>{e.buffs.forEach((t=>u.removeBuff(e,t))),e.debuffs.forEach((t=>u.removeDebuff(e,t))),e.buffs=[],e.debuffs=[]}))}addKillCounts(){n.Z.state.combatMonsters.forEach((e=>{n.Z.state.player.kills[e.name]?n.Z.state.player.kills[e.name]++:n.Z.state.player.kills[e.name]=1}))}async levelUp(e){e.level++;let t=o(e.classType,e.race,e.level);t.classBoost.forEach((t=>e[t]++)),t.raceBoost.forEach((t=>e[t]++)),e.abilities.forEach((t=>h.K.levelUpAbility(t.name,e))),c[e.classType][e.level]&&h.K.learnAbility(c[e.classType][e.level],e),e.hp+=3*e.level,e.baseHp+=3*e.level,e.statBonus+=2}addHealthPot(){let e=n.Z.state.items.find((e=>"health potion"==e.name&&"c"==e.rarity));n.Z.state.player.items.push(new i.c(e))}getRaceClassSpecificItem(e){let t=f(e.race,e.classType),a=new i.c(n.Z.state.items.find((e=>e.name==t)));n.Z.state.player.items.push(a),"consumable"!=a.type&&m.x.equipItem(e,a)}}const w=new k},5216:function(e,t,a){a.d(t,{x:function(){return m}});var s=a(2482),i=a(1988),r=a(8914),n=a(4677),c=a(4629),l=a(5279);class o{constructor(){(0,s.Z)(this,"toast",(0,n.pm)())}randomItemDrop(){let e=Math.ceil(100*Math.random()),t=1+r.Z.state.location+c._.getPartyLuck();if(t>e){let e=this.findRandomItem(),t=Math.floor(Math.random()*r.Z.state.combatMonsters.length);r.Z.state.combatMonsters[t].equipment.push(e.name),l.j.addItemStats(r.Z.state.combatMonsters[t],e.name),r.Z.state.combatMonsters[t].hp=r.Z.state.combatMonsters[t].baseHp}}findRandomItem(e=!1){const t={c:7974,uc:9474,r:9974,vr:9999,l:1e4};let a=1+r.Z.state.location+c._.getPartyLuck(),s=e?t[e]:Math.ceil(1e4*Math.random())+a;for(let r in t)t[r]>=s&&(s=r);let i=r.Z.state.items.filter((e=>e.rarity==s)),n=Math.ceil(Math.random()*i.length-1);return i[n]}getStoreItems(){let e=10+Math.ceil(15*Math.random()),t=[];for(let a=0;a<e;a++)t.push(this.findRandomItem());return t.sort(((e,t)=>e.price-t.price))}equipItem(e,t){if(r.Z.message="",!this.checkItemReqs(e,t))return void this.toast.warning(r.Z.message);r.Z.message="",e.equipment.forEach((a=>{a.type==t.type&&this.unequipItem(e,a)})),t.set&&c._.removeSetBonuses(e);let a=r.Z.state.player.items.indexOf(t);r.Z.state.player.items.splice(a,1),e.equipment.push(t),c._.addItemStats(e,t),t.set&&c._.addSetBonuses(e),this.unequipReqMissingItems(e)}unequipItem(e,t){t.set&&c._.removeSetBonuses(e);let a=e.equipment.indexOf(t);e.equipment.splice(a,1),r.Z.state.player.items.push(t),c._.removeItemStats(e,t),this.unequipReqMissingItems(e),t.set&&c._.addSetBonuses(e)}sellItem(e){let t=r.Z.state.player.items.indexOf(e);r.Z.state.player.items.splice(t,1),r.Z.state.player.gold+=e.price/10}sellAll(e){const t=r.Z.state.player.items.filter((t=>t.name===e.name)).length;r.Z.state.player.items=r.Z.state.player.items.filter((t=>t.name!==e.name)),r.Z.state.player.gold+=e.price/10*t}buyItem(e){r.Z.state.player.items.push(new i.c(e));let t=r.Z.state.shopItems.findIndex((t=>t.name==e.name));r.Z.state.shopItems.splice(t,1)}checkItemReqs(e,t){let a=!0;return t?.requirements?(t.requirements.forEach((t=>{a=Array.isArray(t.req)?this.checkMultiReqs(e,t):this.checkSingleReq(e,t)})),a):a}checkMultiReqs(e,t){let a=!1;if(t.req.forEach((s=>{Array.isArray(e[s.stat])?a=this.checkSingleReq(e,t):(e[t.stat].includes(s)||e[t.stat]>=s)&&(a=!0)})),!a&&""==r.Z.message){let e=Array.isArray(t.req)?t.req.join(" or "):t.req;r.Z.message+=" requires "+t.stat.replace(/([A-Z])/g," $1")+" to be "+e}return a}checkSingleReq(e,t){let a=!1;if(Array.isArray(e[t.stat])?e[t.stat].forEach((e=>{"object"===typeof e?e.name.includes(t.req)&&(a=!0):(e.includes(t.req)||e>=t.req)&&(a=!0)})):e[t.stat]>=t.req&&(a=!0),!a){let e=Array.isArray(t.req)?t.req.join(" or "):t.req;r.Z.message+=" requires "+t.stat.replace(/([A-Z])/g," $1")+" to be "+e}return a}unequipReqMissingItems(e){e.equipment.forEach((t=>{this.checkItemReqs(e,t)||this.unequipItem(e,t)}))}useConsumableItem(e,t){Array.isArray(e.effect)?e.effect.forEach(((a,s)=>{this.doItemEffect(a,e.value[s],t)})):this.doItemEffect(e.effect,e.value,t);let a=r.Z.state.player.items.findIndex((t=>t.id==e.id));r.Z.state.player.items.splice(a,1),this.toast.success(t.name+" "+this.getItemEffectsDisplay(e))}doItemEffect(e,t,a){if("statusEffects"==e){let e=a.statusEffects.findIndex((e=>e.name==t&&e.negative));a.statusEffects.splice(e,1)}else a[e]+=t}getItemEffectsDisplay(e){let t="";if(Array.isArray(e.effect))for(let a=0;a<e.effect.length;a++){let s=e.value[a]<=0?"":"+";t+=a>0?" | ":"",t+=e.effect[a].replace(/([A-Z])/g," $1"),"object"==typeof e.value[a]?t+=(e.value[a].name.includes("-")?" ":" +")+e.value[a].name+" + "+e.value[a].chance+"% ":t+=s+e.value[a]+" "}else{let a=e.value<=0?"":"+";t=e.effect.replace(/([A-Z])/g," $1"),"object"==typeof e.value?t+=e.value.name+" + "+e.value.chance+"% ":t+=a+e.value+" "}return t+=e.speed?"| speed "+e.speed:"",t}}const m=new o},5279:function(e,t,a){a.d(t,{j:function(){return p}});var s=a(8914),i=a(3818),r=a(6938),n=a(4629),c=a(2074),l=a(7387),o=a.n(l),m=a(2369);class f{takeTurn(){this.prepPhase(),this.attackPhase()}prepPhase(){this.resetActions(),this.triggerStatusEffects()}attackPhase(){let e=s.Z.state.player.characters.filter((e=>e.inBattle)).length,t=1e3;o()("#app").css("pointer-events","none"),o()("*").css("cursor","progress"),s.Z.state.combatMonsters.forEach((a=>{if(!(a.actions<=0||a.hp<=0))for(a.actions;a.actions>0;a.actions--)(0,c._)(t).then((()=>{if(a.hp>0){i.m.pounce("monster"+a.id);let t=s.Z.state.player.characters.filter((e=>e.inBattle))[Math.floor(Math.random()*e)];r.S.handleAttack(a,t)}})),t+=1e3})),setTimeout((()=>{o()("#app").css("pointer-events",""),o()("*").css("cursor",""),this.endPhase()}),t)}endPhase(){clearInterval(s.Z.state.timerInterval),this.regen(),n._.takeTurn()}regen(){s.Z.state.combatMonsters.forEach((e=>{e.regen>0&&(i.m.fadeOutUp("hit"+e.id,e.regen,"+"),e.hp+=e.regen)}))}triggerStatusEffects(){s.Z.state.combatMonsters.forEach((e=>{e.statusEffects.forEach((t=>{t.negative&&"number"===typeof t.value&&(e[t.effect]=t.value>0?e[t.effect]-t.value:t.value,"hp"==t.effect&&i.m.fadeOutUp("hit"+e.id,t.value,"-"))}))}))}resetActions(){s.Z.state.combatMonsters.forEach((e=>{e.hp>0&&(e.actions=e.baseActions)}))}addItemStats(e,t){s.Z.commit("addStatsToMonster",{monsterId:e.id,item:t})}getMonsterById(e){return s.Z.state.combatMonsters.find((t=>t.id==e))}triggerAbilities(e,t){e.abilities.forEach((a=>{let s=Math.ceil(100*Math.random());s>a.chance||("summon"!=a.name?(a.effect.forEach((function(s,i){Array.isArray(t[s])?t[s].push(a.value[i]):"number"!==typeof a.value[i]?t[s]=a.value[i]:a.buff?e[s]+=a.value[i]:t[s]-=a.value[i]})),a.buff?(a.effect.forEach((function(t,s){e["buffs"].push({effect:t,value:a.value[s]})})),i.m.fadeOutUp("hit"+e.id,a.name,"+")):(a.effect.forEach((function(e,s){t["debuffs"].push({effect:e,value:a.value[s]})})),i.m.fadeOutUp("hit"+t.id,a.name,"-"))):this.summon(a))}))}summon(e){for(let t=0;t<e.qty;t++){let t=Math.floor(Math.random()*e.monsters.length);m.R.addMonsterToBattleField(e.monsters[t],e.monsterLvl[t])}}}const p=new f},6897:function(e,t,a){a.d(t,{g:function(){return o}});var s=a(2482),i=a(1988),r=a(8914),n=a(1067),c=a(4677);class l{constructor(){(0,s.Z)(this,"toast",(0,c.pm)())}getQuest(e){let t={...e};if("kill"==t.objective){let e=r.Z.state[t.target][r.Z.state.location],a=Math.floor(Math.random()*e.length);t.target=e[a].name,t.objective+=" X"+t.goal,t.reward=t.reward*(a>0?a:1)}if("find"==t.objective){let a=r.Z.state[t.target+"s"].filter((e=>e.rarity==t.goal)),s=Math.floor(Math.random()*a.length);t.target=a[s].name,a=r.Z.state[e.target+"s"].filter((e=>e.rarity==t.reward)),s=Math.floor(Math.random()*a.length),t.reward=a[s].name}if("explore"==t.objective){let e=Math.ceil(10*Math.random()),a=Math.ceil(12*Math.random());t.target=Math.floor(Math.random()*(r.Z.state.player.explored.filter((e=>e.length>0)).length-1)),t.goal=t.target+"-"+e+"-"+a,t.reward=(t.target+1)*e*a}return t}updateQuest(){let e=r.Z.state.player.quest;if(e.objective&&(e.objective.includes("kill")&&(r.Z.state.combatMonsters.forEach((t=>{t.name==e.target&&e.progress++})),e.progress>=e.goal&&this.toast.success("Quest completed!")),"find"==e.objective&&r.Z.state.player.items.forEach((t=>{t.name==e.target&&(e.progress="complete",this.toast.success("Quest completed!"))})),"explore"==e.objective)){let t=r.Z.state.player.explored[r.Z.state.location][r.Z.state.player.explored[r.Z.state.location].length-1];e.goal==t&&(e.progress="complete",this.toast.success("Quest completed!"))}}async checkQuestProgress(){let e=r.Z.state.player.quest;(e.progress>=e.goal||"complete"==e.progress)&&e.objective&&await n.Z.confirm("Quest Completed!","Turn in quest for reward?")&&this.completeQuest()}completeQuest(){let e=r.Z.state.player.quest;if("find"==e.objective){r.Z.state.player.items=r.Z.state.player.items.filter((t=>t.name!=e.name));let t=r.Z.state.items.filter((t=>t.name==e.reward));r.Z.state.player.items.push(new i.c(t[0]))}e.objective.includes("kill")&&(r.Z.state.player.gold+=e.reward),"explore"==e.objective&&r.Z.state.player.characters.forEach((t=>t.exp+=e.reward)),this.toast.success("Quest Complete"),r.Z.state.player.quest={}}deleteQuest(){r.Z.state.player.quest={}}}const o=new l},9359:function(e,t,a){a.d(t,{w:function(){return f}});var s=a(2482),i=a(6938),r=a(8914),n=a(1444),c=a(4629),l=a(4677),o=a(3818);class m{constructor(){(0,s.Z)(this,"toast",(0,l.pm)())}castSpell(e,t){let a={...e};a.areaEffect?"enemies"==t?r.Z.state.combatMonsters.forEach((e=>{a["areaEffect"]=!1,this.castSpell(a,e)})):r.Z.state.player.characters.forEach((e=>{a["areaEffect"]=!1,this.castSpell(a,e)})):(!a.strength||a.buff&&a.debuff||(a["actions"]=1,a["hp"]=1,a["lifeSteal"]=0,a["luck"]=0,a["isSpell"]=!0,i.S.handleAttack(a,t),c._.autoSelect()),a.effect&&(Array.isArray(t[a.effect])?t[a.effect].push(a.value):"number"!==typeof a.value?t[a.effect]=a.value:a.buff?(t[a.effect]+=a.value,o.m.fadeOutUp("hit"+t.id,a.value,"+")):t[a.effect]-=a.value),a.temp&&(a.debuff&&t["debuffs"].push({effect:a.effect,value:a.value}),a.buff&&t["buffs"].push({effect:a.effect,value:a.value})))}findRandomLearnableSpell(e){let t=Math.floor(Math.random()*(e.level??0)/2);if("wizard"==e.classType||"unknown"==e.classType)return r.Z.state.spells[t][Math.floor(Math.random()*r.Z.state.spells[t].length)].name;let a=!1;do{let s=r.Z.state.spells[t][Math.floor(Math.random()*r.Z.state.spells[t].length)],i=!0;if(s.reqs)for(let t in s.reqs)e[t]!=s.reqs[t]&&(i=!1);i&&(a=s.name)}while(!a);return a}learnSpell(e,t){if(!this.canLearnSpell(e,t))return!1;if(t.spells.find((t=>t.name==e)))return this.levelUpSpell(e,t);let a=r.Z.state.spells.find((t=>t.find((t=>t.name==e)))).find((t=>t.name==e));return t.spells.push(new n.j(a)),this.toast.success(t.name+" Learned "+e,{timeout:1e4}),a}canLearnSpell(e,t){if(t.baseMagic<1)return!1;let a=t.spells.find((t=>t.name==e));if(a)return a.level<t.level;a=r.Z.state.spells.find((t=>t.find((t=>t.name==e)))).find((t=>t.name==e));for(let s in a.reqs)if(t[s]!=a.reqs[s]&&"unknown"!=t[s]&&"wizard"!=t[s])return!1;return a.level<=t.level}levelUpSpell(e,t){let a=t.spells.find((t=>t.name==e)),s=r.Z.state.spells.find((t=>t.find((t=>t.name==e))));return s=s.find((t=>t.name==e)),a.level++,a.strength&&(a.strength+=s.strength),a.value&&(a.value+=s.value),this.toast.success(t.name+" Level up "+e,{timeout:1e4}),a}getRandomSpellList(){let e=[[],[],[],[],[],[],[],[],[],[]];return r.Z.state.spells.forEach((t=>t.forEach((t=>{Math.floor(10*Math.random())>8&&e[t.level].push(t)})))),e}}const f=new m},8914:function(e,t,a){function s(){let e=["lightning","melee","magic","acid","necrotic","poison","fire","cold","psychic","radiant"],t=Math.floor(Math.random()*e.length);return e[t]}a.d(t,{Z:function(){return n}});var i=a(9749);const r=(0,i.MT)({state:{monsters:[[{name:"goblin",actions:1,strength:2,hp:7,loot:{gold:5,items:["dagger","health potion"],chance:[75,5]},exp:50,dodge:10,img:"goblin-basic",abilities:[{name:"hide",effect:["dodge"],value:[5],chance:10,buff:!0}]},{name:"trickster goblin",actions:1,strength:1,hp:7,loot:{gold:5,items:["belt of tricks","health potion"],chance:[75,5]},dmgType:"poison",statusEffects:[{name:"poison",effect:"hp",value:1,chance:5,negative:!1}],exp:50,dodge:20,img:"trickster-goblin",abilities:[{name:"hide",effect:["dodge"],value:[5],chance:10,buff:!0}]},{name:"goblin archer",actions:1,strength:2,hp:8,loot:{gold:5,items:["shortbow","health potion"],dgmType:"ranged",chance:[75,5]},exp:50,dodge:10,img:"goblin-archer",abilities:[{name:"hide",effect:["dodge"],value:[5],chance:20,buff:!0}]},{name:"goblin sorcerer",actions:1,strength:3,hp:6,loot:{gold:5,items:["wand","health potion","cape"],dgmType:"fire",physicalResistance:2,chance:[50,5,15]},exp:50,dodge:10,img:"sorcerer-goblin",abilities:[{name:"weaken",effect:["strength"],value:[1],chance:10,buff:!1},{name:"hide",effect:["dodge"],value:[5],chance:10,buff:!0}]},{name:"bullywug",actions:2,strength:1,hp:11,loot:{gold:5,items:["spear","antidote"],chance:[75,10]},exp:50,img:"bullywug",statusEffects:[{name:"poison",effect:"hp",value:1,chance:10,negative:!1}]},{name:"giant bat",actions:1,strength:3,lifeSteal:20,hp:15,loot:{gold:5,items:["health potion"],chance:[10]},exp:50,img:"giant-bat"},{name:"giant rat",actions:1,strength:1,hp:7,loot:{gold:2,items:[],chance:[]},exp:25,img:"giant-rat"},{name:"kuo toa",actions:1,strength:2,hp:18,loot:{gold:5,items:["spear","sticky shield"],chance:[50,25]},exp:50,img:"kuo-toa"},{name:"seedling",actions:1,strength:2,hp:8,vulnerabilities:["fire"],thorns:1,loot:{gold:5,items:[],chance:[]},exp:50,img:"seedling"},{name:"skeleton",actions:1,strength:4,hp:9,immunities:["necrotic","psychic","petrify","poison"],vulnerabilities:["radiant"],loot:{gold:5,items:["shortsword","shortbow"],chance:[75,75]},exp:50,img:"undead-barbarian"},{name:"kobold",actions:1,strength:3,hp:12,resistances:["fire"],physicalResistance:10,loot:{gold:5,items:["spear","shield","padded armor"],chance:[75,10,10]},exp:50,img:"kobold"}],[{name:"fire snake",actions:2,strength:3,hp:22,loot:{gold:20,items:["fire snake hide"],chance:[15]},absorb:"fire",vulnerabilities:["cold"],dmgType:"fire",thorns:5,exp:200,img:"firesnake"},{name:"ghoul",actions:1,strength:8,hp:22,loot:{gold:20,items:["destone"],chance:[10]},exp:200,resistances:["necrotic"],statusEffects:[{name:"petrify",effect:"actions",value:0,chance:10,negative:!1}],vulnerabilities:["radiant"],img:"ghoul"},{name:"bugbear",actions:1,strength:9,hp:27,loot:{gold:20,items:["morningstar","health potion"],chance:[75,10]},exp:200,img:"bugbear",abilities:[{name:"bloodlust",effect:["strength","hp"],value:[1,5],chance:10,buff:!0}]},{name:"giant spider",actions:1,dmgType:"poison",statusEffects:[{name:"poison",effect:"hp",value:2,chance:20,negative:!1}],immunities:["poison"],vulnerabilities:["fire"],strength:16,hp:26,loot:{gold:20,items:["health potion","antidote"],chance:[15,15]},exp:200,img:"giant-spider",abilities:[{name:"web",effect:["actions"],value:[1],chance:20,buff:!1}]},{name:"imp",actions:1,strength:15,magicResistance:25,physicalResistance:25,hp:10,absorb:"fire",dmgType:"fire",vulnerabilities:["cold"],immunities:["poison"],loot:{gold:20,items:[],chance:[]},exp:200,img:"imp"},{name:"multi-armed skeleton",actions:4,strength:3,hp:26,loot:{gold:20,items:[],chance:[]},exp:200,immunities:["necrotic","psychic","petrify","poison"],vulnerabilities:["radiant"],img:"multi-armed-skeleton"},{name:"myconid",actions:2,strength:8,hp:22,dmgType:"poison",statusEffects:[{name:"poison",effect:"hp",value:4,chance:10,negative:!1}],immunities:["poison"],loot:{gold:10,items:["antidote"],chance:[75]},exp:100,img:"myconid"},{name:"ooze",actions:1,strength:11,hp:22,thorns:3,magicResistance:25,dmgType:"acid",immunities:["acid","psychic","petrify"],vulnerabilities:["poison"],loot:{gold:10,items:["restoration potion"],chance:[20]},exp:100,img:"ooze-basic"},{name:"orc",actions:1,strength:14,hp:20,thorns:1,loot:{gold:10,items:["greataxe","dagger","spiked armor"],chance:[50,25,10]},exp:100,img:"orc"},{name:"shadow",actions:1,strength:5,lifeSteal:50,physicalResistance:50,absorb:"necrotic",vulnerabilities:["radiant"],immunities:["petrify","poison"],dmgType:"necrotic",hp:16,loot:{gold:10,items:[],chance:[]},exp:100,img:"shadow",abilities:[{name:"lifedrain",effect:["baseHp"],value:[5],chance:50,buff:!1}]},{name:"scarecrow",actions:2,strength:6,immunities:["petrify","poison"],physicalResistance:20,hp:36,loot:{gold:20,items:[],chance:[]},exp:200,img:"scarecrow",abilities:[{name:"weaken",effect:["strength"],value:[1],chance:20,buff:!1}]},{name:"pseudodragon",actions:2,strength:5,magicResistance:25,physicalResistance:25,hp:30,dmgType:"cold",resistances:["cold","poison"],vulnerabilities:["fire"],statusEffects:[{name:"poison",effect:"hp",value:1,chance:25,negative:!1}],loot:{gold:20,items:[],chance:[]},exp:200,img:"pseudodragon"}],[{name:"gelatinous cube",race:"ooze",img:"gelatinous-cube",immunities:["petrify"],dmgType:"acid",vulnerabilities:["poison"],hp:84,strength:10,thorns:10,actions:1,magicResistance:20,lifeSteal:25,absorb:"acid",level:2,loot:{gold:45,items:["restoration potion"],chance:[10]},exp:450},{name:"gibbering mouther",race:"aberration",img:"mouther",dmgType:"acid",resistances:["acid"],vulnerabilities:["radiant"],hp:67,strength:17,dodge:25,actions:1,level:2,loot:{gold:45,items:[],chance:[]},exp:450},{name:"nothic",race:"aberration",img:"nothic",dmgType:"magic",vulnerabilities:["radiant"],resistances:["magic","necrotic"],hp:45,strength:8,actions:2,level:2,loot:{gold:45,items:[],chance:[]},exp:450,abilities:[{name:"vulnerable",effect:["vulnerabilities"],value:["magic"],chance:25,buff:!1}]},{name:"ogre",race:"giant",img:"ogre",hp:59,strength:12,actions:1,level:2,loot:{gold:45,items:["greatclub","gauntlets of ogre power"],chance:[50,5]},exp:450,abilities:[{name:"power-up",effect:["strength"],value:[2],chance:25,buff:!0}]},{name:"lizardman",img:"lizard",hp:52,strength:3,actions:3,level:2,physicalResistance:20,statusEffects:[{name:"petrify",effect:"actions",value:0,chance:8,negative:!1}],loot:{gold:45,items:["spear","health potion"],chance:[75,50]},exp:450},{name:"hyena",img:"hyena",hp:47,strength:8,actions:2,level:2,loot:{gold:45,items:[],chance:[]},exp:450,abilities:[{name:"expose",effect:["dodge"],value:[5],chance:25,buff:!1}]},{name:"fairy",actions:1,strength:20,hp:5,dmgType:"magic",dodge:75,loot:{gold:56,items:[],chance:[]},exp:450,img:"fairy"},{name:"goblin shaman",actions:1,strength:13,hp:31,dmgType:"necrotic",loot:{gold:45,items:["bone wand","health potion"],chance:[75,5]},exp:450,dodge:10,img:"goblin-shaman",abilities:[{name:"hide",effect:["dodge"],value:[10],chance:10,buff:!0},{name:"summon",monsters:["goblin","goblin sorcerer","trickster goblin","goblin archer","mad golbin"],monsterLvl:[0,0,0,0,3],qty:2,chance:75}]},{name:"kreen",actions:4,strength:4,physicalResistance:10,hp:42,loot:{gold:20,items:[],chance:[]},exp:200,img:"insect1"}],[{name:"displacer beast",dodge:50,actions:2,strength:7,hp:85,loot:{gold:70,items:["displacer cloak"],chance:[5]},exp:700,img:"displacer-beast",abilities:[{name:"displace",effect:["dodge"],value:[5],chance:10,buff:!0}]},{name:"yuan-ti malison",actions:2,strength:10,absorb:"poison",hp:66,dmgType:"poison",statusEffects:[{name:"poison",effect:"hp",value:5,chance:30,negative:!1}],loot:{gold:70,items:["scimitar"],chance:[75]},exp:700,img:"snakeman"},{name:"chatkcha",actions:2,strength:10,resistances:["poison"],hp:72,loot:{gold:70,items:[],chance:[]},exp:700,img:"insect2"},{name:"flaahgra",actions:3,strength:8,absorb:"poison",hp:73,dmgType:"poison",vulnerabilities:["fire"],statusEffects:[{name:"poison",effect:"hp",value:3,chance:40,negative:!1}],loot:{gold:70,items:["antidote"],chance:[75]},exp:700,img:"deadly-plant"},{name:"fungus crab",actions:4,strength:6,absorb:"poison",physicalResistance:50,hp:93,dmgType:"poison",vulnerabilities:["fire"],statusEffects:[{name:"poison",effect:"hp",value:3,chance:15,negative:!1}],loot:{gold:70,items:["antidote"],chance:[75]},exp:700,img:"fungus-crab"},{name:"mad golbin",actions:1,strength:15,hp:45,statusEffects:[{name:"poison",effect:"hp",value:10,chance:15,negative:!1}],loot:{gold:70,items:["health potion"],chance:[75]},exp:700,img:"mad-goblin",abilities:[{name:"hide",effect:["dodge"],value:[10],chance:10,buff:!0}]},{name:"spectator",actions:2,strength:16,hp:39,absorb:"magic",loot:{gold:70,items:[],chance:[]},exp:700,dmgType:"magic",img:"spectator",abilities:[{name:"power-up",effect:["strength"],value:[1],chance:50,buff:!0}]},{name:"werewolf",actions:2,strength:7,hp:58,absorb:"melee",loot:{gold:70,items:["handaxe","shortsword"],chance:[75,75]},exp:700,img:"wolfman"}],[{name:"ettin",actions:2,strength:14,hp:85,loot:{gold:110,items:["morningstar","morningstar"],chance:[75,75]},exp:1100,img:"ettin"},{name:"flameskull",actions:2,strength:10,hp:40,loot:{gold:110,items:["mantle of spell resistance"],chance:[1]},exp:1100,absorb:"magic",dmgType:"magic",statusEffects:[{name:"poison",effect:"hp",value:5,chance:15,negative:!1},{name:"petrify",effect:"actions",value:0,chance:10,negative:!1}],immunities:["petrify"],img:"flameskull",abilities:[{name:"weaken",effect:["strength"],value:[1],chance:50,buff:!1},{name:"power-up",effect:["strength"],value:[1],chance:50,buff:!0}]},{name:"young phoenix",actions:1,strength:26,hp:45,loot:{gold:110,items:["wand of fire","phoenix potion"],chance:[1,1]},exp:1100,absorb:"fire",dmgType:"fire",physicalResistance:50,img:"pheonix",abilities:[{name:"renew",effect:["regen"],value:[5],chance:30,buff:!0}]},{name:"hell hound",actions:1,strength:21,hp:70,loot:{gold:110,items:[],chance:[]},exp:1100,immunities:["fire"],dmgType:"fire",thorns:5,img:"hell-hound"},{name:"jackal",actions:2,strength:10,hp:55,dodge:35,loot:{gold:110,items:[],chance:[]},exp:1100,img:"jackal"},{name:"cockatrice",actions:2,strength:5,hp:45,loot:{gold:110,items:["destone"],chance:[75]},statusEffects:[{name:"petrify",effect:"actions",value:0,chance:50,negative:!1}],exp:1100,img:"cockatrice"}],[{name:"barbed devil",actions:3,strength:10,hp:110,loot:{gold:180,items:[],chance:[]},immunities:["fire","poison"],exp:1800,thorns:5,img:"barbed-devil"},{name:"flesh golem",actions:2,strength:13,hp:93,loot:{gold:180,items:["javelin of lightning"],chance:[5]},exp:1800,absorb:"lightning",immunities:["petrify"],img:"flesh-golem"},{name:"troll",actions:3,strength:9,lifeSteal:40,regen:10,hp:84,loot:{gold:180,items:["ring of lesser regeneration"],chance:[2]},exp:1800,img:"troll"},{name:"forest imp",actions:2,strength:12,regen:3,hp:86,vulnerabilities:["fire"],loot:{gold:180,items:[],chance:[]},exp:1800,img:"forest-creature"},{name:"wolf beast",actions:2,strength:14,hp:79,loot:{gold:180,items:[],chance:[]},exp:1800,img:"wolf-beast"},{name:"dark pegasus",actions:4,strength:14,hp:98,dmgType:"radiant",immunities:["radiant"],loot:{gold:180,items:[],chance:[]},exp:1800,img:"dark-pegasus",abilities:[{name:"power-up",effect:["strength"],value:[1],chance:50,buff:!0}]}],[{name:"sorcerer beast",actions:1,strength:45,hp:60,loot:{gold:230,items:["wand of magic"],chance:[3]},exp:2300,dmgType:"magic",statusEffects:[{name:"poison",effect:"hp",value:10,chance:10,negative:!1},{name:"petrify",effect:"actions",value:0,chance:10,negative:!1}],img:"sorcerer-beastman",abilities:[{name:"weaken",effect:["strength"],value:[2],chance:75,buff:!1},{name:"power-up",effect:["strength"],value:[2],chance:75,buff:!0}]},{name:"beast warrior",actions:3,strength:15,hp:112,loot:{gold:230,items:["morningstar","chain mail"],chance:[75,25]},exp:2300,img:"beast-warrior",abilities:[{name:"warcry",effect:["strength","hp"],value:[3,12],chance:10,buff:!0}]},{name:"rat warrior",actions:2,strength:21,hp:85,loot:{gold:230,items:["scimitar"],chance:[75]},exp:2300,img:"rat-warrior",abilities:[{name:"warcry",effect:["strength","hp"],value:[1,8],chance:10,buff:!0}]},{name:"nightmare rider",actions:3,strength:13,hp:152,immunities:["fire"],dmgType:"fire",loot:{gold:230,items:["flame tongue","spiked armor"],chance:[1,75]},exp:2300,img:"nightmare-rider"},{name:"witch",actions:1,strength:12,hp:49,magicResistance:25,dmgType:"magic",statusEffects:[{name:"poison",effect:"hp",value:5,chance:15,negative:!1},{name:"petrify",effect:"actions",value:0,chance:15,negative:!1}],loot:{gold:230,items:[],chance:[]},exp:2300,img:"witch",abilities:[{name:"curse",effect:["strength","hp","luck","dodge","physicalResistance","actions"],value:[3,6,2,5,10,1],chance:10,buff:!1}]}],[{name:"shield guardian",actions:2,strength:25,lifeSteal:50,hp:142,physicalResistance:75,immunities:["petrify","poison"],loot:{gold:290,items:["spear","longsword +1","shield +2"],chance:[75,15,5]},exp:2900,img:"shield-guardian",abilities:[{name:"harden",effect:["physicalResistance","hp","strength"],value:[5,10,1],chance:10,buff:!0}]},{name:"cyclops",actions:2,strength:31,hp:204,loot:{gold:290,items:["greatclub"],chance:[75]},exp:2900,img:"cyclops"},{name:"griffin",actions:3,strength:24,hp:260,loot:{gold:290,items:[],chance:[]},exp:2900,img:"griffin"},{name:"shambling mound",actions:2,strength:21,hp:236,statusEffects:[{name:"poison",effect:"hp",value:4,chance:20,negative:!1}],loot:{gold:290,items:[],chance:[]},thorns:1,regen:10,dmgType:"poison",vulnerabilities:["fire"],exp:2900,img:"shamble",abilities:[{name:"grow",effect:["hp"],value:[25],chance:12,buff:!0}]},{name:"water elemental warrior",actions:2,dmgType:"cold",strength:25,hp:158,vulnerabilities:["lightning"],immunities:["petrify","poison","psychic"],loot:{gold:290,items:[],chance:[]},exp:2900,img:"water-elemental-warrior"}],[{name:"hydra",actions:5,strength:10,lifeSteal:20,hp:172,loot:{gold:390,regen:25,items:["ring of regeneration"]},chance:[1],exp:3900,img:"hydra",abilities:[{name:"sprout head",effect:["strength","hp"],value:[2,21],chance:10,buff:!0}]},{name:"water elemental",actions:1,dmgType:"cold",strength:50,hp:208,vulnerabilities:["lightning"],immunities:["petrify","poison","psychic"],loot:{gold:390,items:[],chance:[]},exp:3900,img:"water-elemental-basic"},{name:"rock golem",actions:2,strength:26,hp:186,physicalResistance:50,immunities:["petrify","poison","psychic"],loot:{gold:390,items:[],chance:[]},exp:3900,img:"rock-golem"},{name:"sqix",actions:3,strength:16,hp:176,resistances:["fire"],vulnerabilities:["lightning"],dodge:15,loot:{gold:390,items:[],chance:[]},exp:3900,img:"sqix",abilities:[{name:"ink cloud",effect:["dodge"],value:[10],chance:10,buff:!0}]}],[{name:"treant",actions:2,strength:22,hp:138,physicalResistance:25,vulnerabilities:["fire"],loot:{gold:500,items:[],chance:[]},exp:5e3,img:"treant"},{name:"cloud giant",actions:2,strength:28,hp:288,magicResistance:25,vulnerabilities:["fire"],loot:{gold:500,items:["morningstar"],chance:[50]},exp:5e3,img:"cloud-giant"},{name:"swamp giant",actions:2,strength:25,hp:257,magicResistance:25,vulnerabilities:["fire"],statusEffects:[{name:"poison",effect:"hp",value:7,chance:20,negative:!1}],loot:{gold:500,items:["greataxe"],chance:[50]},exp:5e3,img:"swamp-giant"},{name:"fire elemental",actions:3,strength:20,hp:264,vulnerabilities:["cold"],absorb:"fire",thorns:10,dmgType:"fire",loot:{gold:500,items:["flame tongue"],chance:[5]},exp:5e3,img:"fire-elemental"}],[{name:"aboleth",actions:2,strength:12,hp:235,loot:{gold:590,magicResistance:75,items:[],chance:[]},exp:5900,img:"aboleth-beholder"},{name:"young red dragon",actions:3,strength:20,hp:278,absorb:"fire",magicResistance:25,physicalResistance:25,dmgType:"fire",loot:{gold:590,items:["red dragon scalemail"]},exp:5900,img:"red-dragon"},{name:"baphomet elder",actions:1,strength:21,hp:275,loot:{gold:590,items:[]},exp:5900,img:"baphomet-elder"}],[{name:"remorhaz",actions:1,strength:50,absorb:"fire",thorns:"10",immunities:["cold"],dmgType:"fire",hp:395,loot:{gold:720,items:[],chance:[]},exp:7200,img:"remorhaz"},{name:"ice golem",actions:3,strength:25,absorb:"cold",vulnerabilities:["fire"],thorns:"10",dmgType:"cold",hp:481,loot:{gold:720,items:[],chance:[]},exp:7200,img:"ice-golem",abilities:[{name:"freeze",effect:["actions"],value:[2],chance:15,buff:!1}]}],[{name:"archmage",actions:1,strength:60,hp:499,physicalResistance:25,magicResistance:50,dmgType:"magic",statusEffects:[{name:"poison",effect:"hp",value:10,chance:25,negative:!1},{name:"petrify",effect:"actions",value:0,chance:25,negative:!1}],loot:{gold:840,items:["robe of the archmagi","staff of the magi"],chance:[1,1]},exp:8400,img:"archmage",abilities:[{name:"curse",effect:["strength","hp","luck","dodge","physicalResistance","actions"],value:[3,6,2,5,10,1],chance:10,buff:!1}]},{name:"orc necromancer",actions:2,strength:25,hp:575,lifesteal:25,dmgType:"necrotic",loot:{gold:840,items:[],chance:[]},exp:8400,img:"orc-necromancer",abilities:[{name:"curse",effect:["strength","hp","luck","dodge","physicalResistance","actions"],value:[3,6,2,5,10,1],chance:10,buff:!1},{name:"summon",monsters:["flameskull","shadow","multi-armed skeleton","ghoul","skeleton"],monsterLvl:[4,1,1,1,0],qty:2,chance:75}]},{name:"yeti",actions:1,strength:34,hp:2800,loot:{gold:1300,items:[],chance:[]},statusEffects:[{name:"petrify",effect:"hp",value:0,chance:5,negative:!1}],exp:13e3,dmgType:"cold",absorb:"cold",img:"yeti",abilities:[{name:"freeze",effect:["actions"],value:[2],chance:15,buff:!1}]}],[{name:"beholder",actions:3,strength:30,hp:1800,loot:{gold:1e3,items:[],chance:[]},dmgType:"magic",statusEffects:[{name:"poison",effect:"hp",value:10,chance:15,negative:!1},{name:"petrify",effect:"actions",value:0,chance:15,negative:!1}],exp:1e4,img:"beholder"},{name:"mind flayer",actions:1,strength:80,hp:2270,loot:{gold:1e3,items:[],chance:[]},magicResistance:50,absorb:"psychic",lifeSteal:75,dmgType:"psychic",exp:1e4,img:"mind-flayer"},{name:"dark angel",actions:2,strength:38,hp:2640,loot:{gold:1e3,items:[],chance:[]},magicResistance:10,physicalResistance:10,absorb:"radiant",resistances:["necrotic"],statusEffects:[{name:"petrify",effect:"actions",value:0,chance:10,negative:!1}],lifeSteal:20,regen:10,dmgType:"radiant",exp:1e4,img:"dark-angel"}],[{name:"purple dragon",actions:3,absorb:"psychic",magicResistance:25,physicalResistance:25,dmgType:"psychic",strength:14,hp:1570,loot:{gold:1150,items:["purple dragon scalemail"],chance:[20]},exp:11500,img:"purple-dragon"},{name:"undead sorcerer",actions:1,magicResistance:10,physicalResistance:10,immunities:["necrotic"],dmgType:"magic",strength:58,hp:1570,statusEffects:[{name:"poison",effect:"hp",value:12,chance:20,negative:!1},{name:"petrify",effect:"actions",value:0,chance:20,negative:!1}],loot:{gold:1150,items:[],chance:[]},exp:11500,img:"undead-sorcerer"}],[{name:"baphomet",actions:4,strength:21,hp:2750,loot:{gold:1300,items:[],chance:[]},exp:13e3,immunities:["petrify"],img:"baphomet"},{name:"undead lord",actions:2,strength:40,hp:3e3,loot:{gold:1300,items:[],chance:[]},exp:13e3,immunities:["petrify","poison"],dmgType:"necrotic",absorb:"necrotic",img:"undead-lord"},{name:"yeti warrior",actions:2,strength:37,hp:2800,loot:{gold:1300,items:[],chance:[]},statusEffects:[{name:"petrify",effect:"hp",value:0,chance:15,negative:!1}],exp:13e3,dmgType:"cold",absorb:"cold",img:"yeti-warrior",abilities:[{name:"freeze",effect:["actions"],value:[2],chance:15,buff:!1}]}],[{name:"adult blue dragon",actions:3,strength:16,hp:2250,loot:{gold:1500,items:[],chance:[]},immunities:["petrify"],exp:15e3,dmgType:"lightning",absorb:"lightning",magicResistance:50,physicalResistance:25,statusEffects:[{name:"petrify",effect:"actions",value:0,chance:50,negative:!1}],img:"blue-dragon"},{name:"abyssal calamar",actions:8,strength:4,hp:2850,loot:{gold:1500,items:[],chance:[]},immunities:["petrify"],absorb:"poison",exp:15e3,thorns:15,dmgType:"poison",statusEffects:[{name:"poison",effect:"hp",value:2,chance:50,negative:!1}],img:"abysal-oct"}],[{name:"adult gold dragon",actions:3,strength:28,magicResistance:50,physicalResistance:25,hp:2560,dmgType:"fire",absorb:"fire",loot:{gold:1800,items:[],chance:[]},exp:18e3,img:"gold-dragon"},{name:"wyrm",actions:1,strength:61,dodge:25,hp:2800,dmgType:"fire",loot:{gold:1800,items:[],chance:[]},exp:18e3,img:"wyrm"}],[{name:"abyssal ooze",actions:3,strength:39,hp:5740,loot:{gold:2e3,items:[],chance:[]},immunities:["petrify"],exp:2e4,thorns:39,absorb:"melee",dmgType:"acid",img:"abyssal-ooze"},{name:"lich",actions:1,strength:50,hp:4870,loot:{gold:2e3,items:[],chance:[]},immunities:["necrotic"],dmgType:"cold",statusEffects:[{name:"petrify",effect:"actions",value:0,chance:50,negative:!1}],exp:2e4,img:"lich"}],[{name:"balor",actions:2,strength:29,absorb:"fire",dmgType:"fire",thorns:10,magicResistance:30,hp:26200,loot:{gold:2200,items:[],chance:[]},exp:22e3,img:"balor"},{name:"demon lord",actions:3,strength:30,absorb:"necrotic",vulnerabilities:["radiant"],immunities:["fire"],lifesteal:25,magicResistance:10,physicalResistance:10,dmgType:"necrotic",thorns:8,hp:26720,loot:{gold:2200,items:["ring of protection","sword of life stealing"],chance:[25,5]},exp:22e3,img:"demon-lord"},{name:"tiamat",actions:7,strength:25,dmgType:"magic",immunities:["petrify","poison","acid","fire","cold","lightning","melee"],hp:25550,loot:{gold:2200,items:[],chance:[]},statusEffects:[{name:"petrify",effect:"hp",value:0,chance:20,negative:!1}],exp:22e3,img:"tiamat"}],[{name:"death",actions:10,strength:100,hp:1e6,loot:{gold:2500,items:[],chance:[]},immunities:["petrify"],vulnerabilities:["radiant"],absorb:"necrotic",exp:25e3,img:"death"}]],items:[{name:"shortsword",effect:"strength",value:2,type:"mainHand",speed:1,price:400,rarity:"c",description:"Bigger than a dagger shorter than a longsword"},{name:"bastardsword",effect:"strength",value:5,type:"mainHand",speed:2,price:600,rarity:"c",requirements:[{stat:"offHand",req:null}]},{name:"quarterstaff",effect:"strength",value:2,type:"mainHand",price:400,rarity:"c",requirements:[{stat:"classType",req:"monk"}],description:"The weapon of a monk"},{name:"handbands",effect:"strength",value:1,type:"accessory",price:100,rarity:"c"},{name:"longsword",effect:"strength",value:4,type:"mainHand",speed:2,price:750,rarity:"c",description:"Longer than a shortsword"},{name:"dagger",effect:"strength",value:1,type:"offHand",price:200,rarity:"c",description:"A good off hand weapon"},{name:"darts",effect:["strength","dmgType"],value:[1,"ranged"],type:"offHand",price:200,rarity:"c",description:"A good off hand weapon"},{name:"fang",effect:"dmgType",value:"poison",type:"offHand",price:200,rarity:"c",description:"A good off hand weapon"},{name:"hunters knife",effect:"strength",value:2,type:"offHand",price:400,rarity:"c",description:"A good off hand weapon"},{name:"spear",effect:"strength",value:1,type:"mainHand",speed:1,price:200,rarity:"c",description:"Most basic of weapons for beginners"},{name:"shortbow",effect:["strength","dmgType"],value:[2,"range"],type:"mainHand",speed:2,price:200,rarity:"c",description:"A good ranged weapon for beginners"},{name:"longbow",effect:["strength","dmgType"],value:[4,"range"],type:"mainHand",speed:2,price:600,rarity:"c",description:"The longer version of the shortbow"},{name:"light crossbow",effect:["strength","dmgType"],value:[2,"range"],type:"mainHand",speed:1,price:400,rarity:"c",description:"Faster than a bow"},{name:"Heavy crossbow",effect:["strength","dmgType"],value:[5,"range"],type:"mainHand",speed:3,price:800,rarity:"c",description:"Forget speed we're going for power here"},{name:"hand crossbow",effect:["strength","dmgType"],value:[1,"range"],type:"offHand",speed:1,price:400,rarity:"c",description:"A off hand weapon"},{name:"sticky shield",effect:"baseHp",value:3,type:"offHand",price:300,rarity:"c",description:"Easy to use, hard to remove"},{name:"battleaxe",effect:"strength",value:3,type:"mainHand",speed:2,price:600,rarity:"c",requirements:[{stat:"baseStrength",req:2}]},{name:"warhammer",effect:["strength","physicalRestistance"],value:[4,-5],type:"mainHand",speed:1,price:600,rarity:"c",requirements:[{stat:"baseStrength",req:2}]},{name:"scimitar",effect:"strength",value:2,type:"mainHand",price:800,rarity:"c"},{name:"handaxe",effect:"strength",value:1,type:"mainHand",speed:1,price:200,rarity:"c"},{name:"greatclub",effect:"strength",value:5,type:"mainHand",speed:3,price:300,rarity:"c"},{name:"morningstar",effect:"strength",value:3,type:"mainHand",speed:1,price:800,rarity:"c"},{name:"javelin",effect:"strength",value:1,type:"mainHand",price:200,rarity:"c"},{name:"loot",effect:"luck",value:1,type:"offHand",price:400,rarity:"c"},{name:"lyre",effect:"luck",value:1,type:"offHand",price:400,rarity:"c"},{name:"shield",effect:"physicalResistance",value:10,type:"offHand",price:500,rarity:"c"},{name:"helm",effect:"physicalResistance",value:5,type:"cloak",price:500,rarity:"c"},{name:"padded armor",effect:"baseHp",value:4,type:"armor",price:400,rarity:"c"},{name:"leather armor",effect:"baseHp",value:8,type:"armor",price:800,rarity:"c"},{name:"spiked armor",effect:["baseHp","thorns"],value:[5,1],type:"armor",price:900,rarity:"c"},{name:"chain mail",effect:["baseHp","baseActions"],value:[12,-1],type:"armor",price:1e3,rarity:"c"},{name:"robe",effect:"baseHp",value:2,type:"cloak",price:500,rarity:"c"},{name:"hooded robe",effect:["baseHp","dodge"],value:[2,1],type:"cloak",price:700,rarity:"c"},{name:"belt of tricks",effect:"dodge",value:1,type:"accessory",price:500,rarity:"c"},{name:"focus orb",effect:"baseMagic",value:1,type:"accessory",price:500,rarity:"c"},{name:"orb of darkness",effect:["lifeSteal","baseHp"],value:[5,-2],type:"accessory",price:500,rarity:"c"},{name:"unstable orb",effect:["magicRegen","magicResistance"],value:[1,-10],type:"accessory",price:100,rarity:"c"},{name:"cape",effect:"physicalResistance",value:2,type:"cloak",price:200,rarity:"c"},{name:"cloak",effect:"dodge",value:1,type:"cloak",price:500,rarity:"c"},{name:"cloak of winters",effect:["resistances","vulnerabilities"],value:["cold","fire"],type:"cloak",price:500,rarity:"c"},{name:"cloak of darkness",effect:["resistances","dodge","vulnerabilities","vulnerabilities"],value:["necrotic",2,"radiant","fire"],type:"cloak",price:500,rarity:"c"},{name:"gold ring",effect:["physicalResistance","baseHp","vulnerabilities"],value:[10,2,"poison"],type:"accessory",price:500,rarity:"c"},{name:"wand",effect:"baseMagic",value:1,type:"mainHand",price:500,rarity:"c"},{name:"bone wand",effect:"dmgType",value:"necrotic",type:"mainHand",price:100,rarity:"c"},{name:"holy symbol",effect:["magicResistance","strength"],value:[5,-2],type:"offHand",price:100,rarity:"c"},{name:"skull armor",effect:["physicalResistance","vulnerabilities"],value:[15,"cold"],type:"offHand",price:100,rarity:"c"},{name:"health potion",effect:"hp",value:10,type:"consumable",price:50,rarity:"c"},{name:"antidote",effect:"statusEffects",value:"poison",type:"consumable",price:50,rarity:"c"},{name:"destone",effect:"statusEffects",value:"petrify",type:"consumable",price:50,rarity:"c"},{name:"mana potion",effect:"magic",value:2,type:"consumable",price:50,rarity:"c"},{name:"plate",effect:["baseHp","physicalResistance","baseActions"],value:[30,20,-3],type:"armor",price:2500,rarity:"uc"},{name:"ring of warmth",effect:"resistances",value:"cold",type:"accessory",price:1500,rarity:"uc"},{name:"ring of winter",effect:"resistances",value:"fire",type:"accessory",price:1500,rarity:"uc"},{name:"ring of mind",effect:"resistances",value:"psychic",type:"accessory",price:1500,rarity:"uc"},{name:"ring of conduction",effect:"resistances",value:"lightning",type:"accessory",price:1500,rarity:"uc"},{name:"ring of ooze",effect:"resistances",value:"acid",type:"accessory",price:1500,rarity:"uc"},{name:"ring of light",effect:"resistances",value:"necrotic",type:"accessory",price:1500,rarity:"uc"},{name:"ring of darkness",effect:"resistances",value:"radiant",type:"accessory",price:1500,rarity:"uc"},{name:"ring of antidote",effect:"resistances",value:"poison",type:"accessory",price:1500,rarity:"uc"},{name:"ring of soft",effect:"immunities",value:"petrify",type:"accessory",price:1500,rarity:"uc"},{name:"wand +1",effect:"baseMagic",value:3,type:"mainHand",price:2500,rarity:"uc"},{name:"shield +1",effect:"physicalResistance",value:20,type:"offHand",price:5e3,rarity:"uc"},{name:"greataxe",effect:"strength",type:"mainHand",value:9,requirements:[{stat:"baseStrength",req:4}],speed:3,price:1200,rarity:"uc"},{name:"adamantine armor",effect:["immunities","baseActions"],value:["crit",-1],type:"armor",price:4e3,rarity:"uc"},{name:"fire snake hide",effect:["dmgType","thorns","resistances","vulnerabilities"],value:["fire",2,"fire","cold"],type:"armor",price:1400,rarity:"uc"},{name:"boots of elvenkind",effect:["dodge","baseActions"],value:[10,1],type:"accessory",price:1500,rarity:"uc"},{name:"boots of the winterlands",effect:"resistances",value:"cold",type:"accessory",price:2e3,rarity:"uc"},{name:"bracers of archery",effect:"strength",value:5,type:"accessory",price:2e3,rarity:"uc",requirements:[{stat:"equipment",req:"bow"}]},{name:"bracers of defense",effect:"physicalResistance",value:15,type:"accessory",price:2e3,rarity:"uc",requirements:[{stat:"armor",req:null}]},{name:"cloak of protection",effect:"physicalResistance",value:20,type:"cloak",price:2500,rarity:"uc"},{name:"gauntlets of ogre power",effect:["strength","baseActions"],value:[3,-1],type:"accessory",price:2e3,rarity:"uc",requirements:[{stat:"baseHp",req:15}]},{name:"luckstone",effect:"luck",value:2,type:"accessory",price:2e3,rarity:"uc"},{name:"health potion",effect:"hp",value:25,type:"consumable",price:250,rarity:"uc"},{name:"mana potion",effect:"magic",value:5,type:"consumable",price:250,rarity:"uc"},{name:"restoration potion",effect:["magic","hp"],value:[2,10],type:"consumable",price:250,rarity:"uc"},{name:"Berserkers headgear",effect:["baseHp","hp"],value:[5,5],type:"cloak",price:2500,rarity:"uc",requirements:[{stat:"classType",req:"barbarian"}],set:"berserkers"},{name:"Berserkers hauberk",effect:["physicalResistance","baseHp","hp"],value:[5,5,5],type:"armor",price:2500,rarity:"uc",requirements:[{stat:"classType",req:"barbarian"}],set:"berserkers"},{name:"Berserkers hatchet",effect:["strength","baseActions"],value:[2,1],speed:1,type:"mainHand",price:2500,rarity:"uc",requirements:[{stat:"classType",req:"barbarian"}],set:"berserkers"},{name:"isenhart's lightbrand",effect:["strength","baseActions"],value:[4,1],speed:2,type:"mainHand",price:2500,rarity:"uc",set:"isenhart's"},{name:"isenhart's parry",effect:["physicalResistance"],value:[15],type:"offHand",price:2500,rarity:"uc",set:"isenhart's"},{name:"isenhart's case",effect:["baseHp","baseActions"],value:[18,-1],type:"armor",price:2500,rarity:"uc",set:"isenhart's"},{name:"isenhart's horns",effect:["physicalResistance"],value:[10],type:"cloak",price:2500,rarity:"uc",set:"isenhart's"},{name:"deaths hand",effect:["resistances"],value:["poison"],type:"accessory",price:2500,rarity:"uc",set:"deaths"},{name:"deaths touch",effect:["lifeSteal","dmgType","strength"],value:[5,"necrotic",4],type:"mainHand",speed:2,price:2500,rarity:"uc",set:"deaths"},{name:"deaths guard",effect:["resistances","physicalResistance"],value:["cold",10],type:"accessory",speed:2,price:2500,rarity:"uc",set:"offHand"},{name:"javelin of lightning",effect:["strength","dmgType","statusEffects"],value:[5,"lightning",{name:"petrify",effect:"actions",value:0,chance:15,negative:!1}],type:"mainHand",price:8e3,rarity:"r"},{name:"gloves of speed",effect:"strength",value:1,type:"offHand",price:5e3,rarity:"r",speed:-1},{name:"displacer cloak",effect:"dodge",value:25,type:"cloak",price:5e3,rarity:"r"},{name:"amulent of health",effect:"baseHp",value:19,type:"accessory",price:5e3,rarity:"r"},{name:"armor +1",effect:["physicalResistance","baseActions"],value:[25,-1],type:"armor",price:5e3,rarity:"r"},{name:"longsword +1",effect:"strength",value:10,type:"mainHand",speed:2,price:5e3,rarity:"r",requirements:[{stat:"baseStrength",req:5}]},{name:"belt of hill giant strength",effect:"strength",value:5,type:"accessory",price:5e3,rarity:"r",requirements:[{stat:"baseHp",req:15}]},{name:"boots of speed",effect:"baseActions",value:5,type:"accessory",price:7500,rarity:"r"},{name:"dagger of venom",effect:["strength","dmgType","statusEffects"],value:[10,"poison",{name:"poison",effect:"hp",value:2,chance:20,negative:!1}],type:"offHand",price:1e4,rarity:"r",requirements:[{stat:"classType",req:"rogue"}]},{name:"flame tongue",effect:["strength","dmgType"],value:[10,"fire"],type:"mainHand",speed:3,price:1e4,rarity:"r"},{name:"mace of disruption",effect:["strength","dmgType"],value:[6,"radiant"],type:"mainHand",speed:2,price:1e4,rarity:"r"},{name:"mantle of spell resistance",effect:"magicResistance",value:25,type:"cloak",price:1e4,rarity:"r"},{name:"periapt of proof against poison",effect:"immunities",value:"poison",type:"accessory",price:1e4,rarity:"r"},{name:"ring of evasion",effect:["dodge","baseActions"],value:[20,1],type:"accessory",price:4e3,rarity:"r"},{name:"ring of protection",effect:["physicalResistance","magicResistance"],value:[10,10],type:"accessory",price:8e3,rarity:"r"},{name:"shield +2",effect:"physicalResistance",value:40,type:"offHand",price:1e4,rarity:"r"},{name:"sun blade",effect:["strength","dmgType"],value:[5,"radiant"],type:"mainHand",speed:1,price:1e4,rarity:"r"},{name:"health potion",effect:"hp",value:50,type:"consumable",price:500,rarity:"r"},{name:"mana potion",effect:"magic",value:10,type:"consumable",price:500,rarity:"r"},{name:"potion of speed",effect:"actions",value:10,type:"consumable",price:2e3,rarity:"r"},{name:"restoration potion",effect:["magic","hp"],value:[5,25],type:"consumable",price:500,rarity:"r"},{name:"ring of lesser regeneration",effect:"regen",value:2,type:"accessory",price:8e3,rarity:"r"},{name:"wand of fire",effect:["baseMagic","dmgType","resistances"],value:[10,"fire","fire"],type:"mainHand",speed:2,price:25e3,rarity:"r",requirements:[{stat:"baseMagic",req:1}]},{name:"wand of frost",effect:["baseMagic","dmgType"],value:[3,"cold"],type:"mainHand",speed:2,price:1e4,rarity:"r",requirements:[{stat:"baseMagic",req:1}]},{name:"wand of force",effect:["baseMagic","dmgType"],value:[3,"melee"],type:"mainHand",speed:2,price:1e4,rarity:"r",requirements:[{stat:"baseMagic",req:1}]},{name:"wand of lightning",effect:["baseMagic","dmgType","statusEffects"],value:[3,"lightning",{name:"petrify",effect:"actions",value:0,chance:15,negative:!1}],type:"mainHand",speed:2,price:1e4,rarity:"r",requirements:[{stat:"baseMagic",req:1}]},{name:"wand of withering",effect:["baseMagic","dmgType"],value:[3,"necrotic"],type:"mainHand",speed:2,price:1e4,rarity:"r",requirements:[{stat:"classType",req:["cleric","warlock"]}]},{name:"wand of magic",effect:["baseMagic","magicRegen"],value:[3,1],type:"mainHand",speed:2,price:15e3,rarity:"r",requirements:[{stat:"baseMagic",req:3}]},{name:"agenlic sickle",effect:["dmgType","strength"],value:["radiant",4],type:"mainHand",price:2e4,rarity:"r",set:"angelic raiment"},{name:"agenlic mantle",effect:["magicResistance","baseHp","baseActions"],value:[5,24,-1],type:"armor",price:2e4,rarity:"r",set:"angelic raiment"},{name:"agenlic halo",effect:["baseHp","strength","regen"],value:[5,2,1],type:"accessory",price:2e4,rarity:"r",set:"angelic raiment"},{name:"agenlic wings",effect:["magicResistance","baseMagic"],value:[5,2],type:"cloak",price:2e4,rarity:"r",set:"angelic raiment"},{name:"cathans rule",effect:["strength","dmgType"],value:[5,"fire"],type:"mainHand",price:2e4,rarity:"r",set:"cathans traps"},{name:"cathans mesh",effect:["thorns","dmgType","baseHp","baseActions"],value:[6,"fire",24,-1],type:"armor",price:2e4,rarity:"r",set:"cathans traps"},{name:"cathans visage",effect:["magicResistance","physicalResistance"],value:[5,10],type:"cloak",price:2e4,rarity:"r",set:"cathans traps"},{name:"cathans sigil",effect:["statusEffects","physicalResistance"],value:[{name:"petrify",effect:"actions",value:0,chance:15,negative:!1},10],type:"offHand",price:2e4,rarity:"r",set:"cathans traps"},{name:"cathans seal",effect:["regen"],value:[2],type:"accessory",price:2e4,rarity:"r",set:"cathans traps"},{name:"sword of life stealing",effect:["strength","dmgType","lifeSteal"],value:[5,"necrotic",25],type:"mainHand",speed:3,price:25e3,rarity:"vr"},{name:"purple dragon scalemail",effect:["baseHp","resistances","baseActions"],value:[50,"psychic",-1],type:"armor",price:1e4,rarity:"vr"},{name:"red dragon scalemail",effect:["baseHp","resistances","baseActions"],value:[50,"fire",-1],type:"armor",price:1e4,rarity:"vr"},{name:"aminated shield",effect:"physicalResistance",value:20,type:"",price:1e4,rarity:"vr"},{name:"armor +2",effect:["physicalResistance","baseActions"],value:[50,-1],type:"armor",price:1e4,rarity:"vr"},{name:"belt of storm giant strength",effect:"strength",value:9,type:"accessory",price:15e3,rarity:"vr",requirements:[{stat:"baseHp",req:35}]},{name:"belt of dwarvenkind",effect:["baseHp","resistances"],value:[2,"poison"],type:"accessory",price:5e3,rarity:"vr"},{name:"dancing sword",effect:["baseActions","strength"],value:[1,5],type:"",speed:0,price:1e4,rarity:"vr"},{name:"dwarven plate",effect:["baseHp","physicalResistance","baseActions"],value:[50,50,-2],type:"armor",price:25e3,rarity:"vr",requirements:[{stat:"race",req:"dwarf"}]},{name:"dwarven hammer",effect:"strength",value:15,type:"mainHand",speed:3,price:15e3,rarity:"vr",requirements:[{stat:"race",req:"dwarf"}]},{name:"frost brand",effect:["strength","dmgType","resistances"],value:[10,"cold","fire"],type:"mainHand",speed:2,price:25e3,rarity:"vr"},{name:"ring of regeneration",effect:"regen",value:5,type:"accessory",price:2e4,rarity:"vr"},{name:"rod of absorption",effect:"absorb",value:"randomDmgType",type:"mainHand",price:25e3,rarity:"vr"},{name:"scimitar of speed",effect:["actions","strength"],value:[1,15],type:"mainHand",price:25e3,rarity:"vr"},{name:"shield +3",effect:"physicalResistance",value:75,type:"offHand",price:5e4,rarity:"vr"},{name:"spellguard shield",effect:["physicalResistance","magicResistance"],value:[10,25],type:"offHand",price:5e4,rarity:"vr"},{name:"staff of fire",effect:["baseMagic","dmgType","resistances"],value:[10,"fire","fire"],type:"mainHand",speed:2,price:25e3,rarity:"vr",requirements:[{stat:"classType",req:["wizard","warlock"]}]},{name:"staff of frost",effect:["baseMagic","dmgType","resistances"],value:[10,"cold","cold"],type:"mainHand",speed:2,price:25e3,rarity:"vr",requirements:[{stat:"classType",req:["wizard","warlock"]}]},{name:"staff of force",effect:["baseMagic","dmgType","resistances"],value:[10,"melee","melee"],type:"mainHand",speed:2,price:25e3,rarity:"vr",requirements:[{stat:"classType",req:["wizard","warlock"]}]},{name:"staff of lightning",effect:["baseMagic","dmgType","resistances","statusEffects"],value:[10,"lightning","lightning",{name:"petrify",effect:"actions",value:0,chance:25,negative:!1}],type:"mainHand",speed:2,price:25e3,rarity:"vr",requirements:[{stat:"classType",req:["wizard","warlock"]}]},{name:"staff of withering",effect:["baseMagic","dmgType","resistances"],value:[10,"necrotic","necrotic"],type:"mainHand",speed:2,price:25e3,rarity:"vr",requirements:[{stat:"classType",req:["cleric","warlock"]}]},{name:"sword of sharpness",effect:"strength",value:15,type:"mainHand",speed:2,price:25e3,rarity:"vr",requirements:[{stat:"baseStrength",req:10}]},{name:"wand of the war mage",effect:"baseMagic",value:15,type:"mainHand",speed:2,price:25e3,rarity:"vr",requirements:[{stat:"classType",req:["warlock","cleric","wizard"]}]},{name:"health potion",effect:"hp",value:100,type:"consumable",price:1e3,rarity:"vr"},{name:"mana potion",effect:"magic",value:20,type:"consumable",price:1e3,rarity:"vr"},{name:"restoration potion",effect:["magic","hp"],value:[10,50],type:"consumable",price:1e3,rarity:"vr"},{name:"defender",effect:["strength","physicalResistance"],value:[10,50],type:"mainHand",speed:2,price:1e5,rarity:"l",requirements:[{stat:"classType",req:"paladin"}]},{name:"armor of invulnerability",effect:["physicalResistance","baseActions"],value:[100,-3],type:"armor",price:1e5,rarity:"l",requirements:[{stat:"baseStrength",req:15}]},{name:"luck blade",effect:["strength","luck"],value:[5,10],type:"mainHand",speed:2,price:1e5,rarity:"l"},{name:"ring of spell turning",effect:["thorns","magicResistance"],value:[100,100],type:"accessory",price:1e5,rarity:"l"},{name:"robe of the archmagi",effect:["magicResistance","baseMagic","physicalResistance"],value:[25,10,25],type:"cloak",price:1e5,rarity:"l",requirements:[{stat:"baseMagic",req:15}]},{name:"staff of the magi",effect:["baseMagic","absorb"],value:[10,"magic"],type:"mainHand",speed:2,price:1e5,rarity:"l",requirements:[{stat:"classType",req:["wizard","warlock"]}]},{name:"sword of extra sharpness",effect:"strength",value:25,type:"mainHand",speed:2,price:1e5,rarity:"l",requirements:[{stat:"baseStrength",req:15}]},{name:"sword petrification",effect:["strength","statusEffects"],value:[5,{name:"petrify",effect:"actions",value:0,chance:50,negative:!1}],type:"mainHand",speed:3,price:1e5,rarity:"l",requirements:[{stat:"baseStrength",req:15}]},{name:"sword poison",effect:["strength","statusEffects"],value:[5,{name:"poison",effect:"hp",value:10,chance:50,negative:!1}],type:"mainHand",speed:3,price:1e5,rarity:"l",requirements:[{stat:"baseStrength",req:15}]},{name:"manual of bodily health",effect:"baseHp",value:25,type:"consumable",price:1e4,rarity:"l"},{name:"phoenix potion",effect:"baseHp",value:5,type:"consumable",price:2500,rarity:"l"},{name:"tome of magic",effect:"baseMagic",value:3,type:"consumable",price:1e4,rarity:"l"},{name:"Manual Of Gainful Exercise",effect:"baseStrength",value:5,type:"consumable",price:1e4,rarity:"l"},{name:"manual of quickness of action",effect:"baseActions",value:2,type:"consumable",price:1e4,rarity:"l"}],abilities:[{name:"rage",level:1,effect:["physicalResistance","strength"],value:[10,2],buff:!0,classType:"barbarian",uses:1,baseUses:1,description:"Reduces physical damage and increases your strength"},{name:"second wind",level:1,effect:["hp"],value:[5],temp:!1,buff:!0,classType:"fighter",uses:1,baseUses:1,description:"Restores some hp"},{name:"action surge",level:1,effect:["actions"],value:[3],buff:!0,classType:"fighter",uses:1,baseUses:1,description:"Regain some actions"},{name:"indomitable",level:1,effect:["physicalResistance"],value:[25],buff:!0,temp:!0,classType:"fighter",uses:1,baseUses:1,description:"Increase in physical resistance for a short time"},{name:"fury of blows",level:1,effect:["hp"],value:[2],temp:!1,buff:!1,classType:"monk",areaEffect:!0,uses:1,baseUses:1,targetsEnemy:!0,description:"Quickly attack all enemies"},{name:"quickening heal",level:1,effect:["hp"],value:[10],temp:!1,buff:!0,classType:"monk",uses:1,baseUses:1,description:"Restore some hp"},{name:"song of rest",level:1,effect:["hp"],value:[3],temp:!1,buff:!0,areaEffect:!0,classType:"bard",uses:1,baseUses:1,description:"Restores some of your party's hp"},{name:"laying on hands",level:1,effect:["hp"],value:[2],temp:!1,buff:!0,areaEffect:!0,classType:"paladin",uses:1,baseUses:1,description:"Restores some of your party's hp"},{name:"divine smite",level:1,effect:["strength","dmgType"],value:[5,"radiant"],temp:!0,buff:!0,classType:"paladin",uses:1,baseUses:1,description:"Imbues attack with magical radiant dmg"},{name:"sneak attack",level:1,effect:["strength"],value:[4],buff:!0,classType:"rogue",uses:1,baseUses:1,description:"Increases strength"},{name:"evasion",level:1,effect:["dodge"],value:[10],buff:!0,classType:"rogue",uses:1,baseUses:1,description:"Increases dodge chance"},{name:"arcane recovery",level:1,effect:["magic"],value:[1],buff:!0,classType:"wizard",uses:1,baseUses:1,description:"Recovers some magic"},{name:"vanish",level:1,effect:["dodge"],value:[100],buff:!0,temp:!0,classType:"ranger",uses:1,baseUses:1,description:"Become hidden and imposible to hit"}],spells:[[{name:"acid splash",strength:5,dmgType:"acid",level:0},{name:"poison spray",strength:6,dmgType:"poison",statusEffects:[{name:"poison",effect:"hp",value:3,chance:10,negative:!1}],level:0},{name:"chill touch",strength:5,dmgType:"necrotic",level:0},{name:"edritch blast",strength:6,dmgType:"melee",level:0},{name:"fire bolt",strength:5,dmgType:"fire",level:0},{name:"ray of frost",strength:5,dmgType:"cold",level:0},{name:"sacred flame",strength:5,dmgType:"radiant",level:0},{name:"shocking grasp",strength:5,dmgType:"lightning",statusEffects:[{name:"petrify",effect:"actions",value:0,chance:10,negative:!1}],level:0},{name:"vicious mockery",strength:5,dmgType:"psychic",level:0},{name:"light heal",effect:"hp",value:2,buff:!0,level:0,description:"Heals target +2"}],[{name:"burning hands",strength:9,dmgType:"fire",level:1},{name:"hellish rebuke",strength:10,dmgType:"fire",reqs:{classType:"warlock"},level:1},{name:"inflict wounds",strength:15,dmgType:"necrotic",reqs:{classType:"warlock"},level:1},{name:"guided bolt",strength:12,dmgType:"radiant",level:1},{name:"magic missile",areaEffect:!0,strength:4,dmgType:"melee",level:1},{name:"cure wounds",effect:"hp",value:5,buff:!0,temp:!0,level:1,reqs:{classType:"cleric"},description:"Heal Party +2"},{name:"weaken",effect:"strength",value:-3,buff:!0,temp:!0,level:1,description:"Reduces targets strength by -3"},{name:"power up",effect:"strength",value:3,buff:!0,level:1,description:"Increases strength of target by +3"}],[{name:"shield",effect:"physicalResistance",value:50,buff:!0,temp:!0,level:2,description:"Increases physical resistance of target by 50%"},{name:"acid arrow",strength:18,dmgType:"acid",level:2},{name:"poison arrow",strength:10,dmgType:"poison",statusEffects:[{name:"poison",effect:"hp",value:5,chance:25,negative:!1}],level:2},{name:"scorching ray",areaEffect:!0,strength:6,dmgType:"fire",level:2},{name:"shatter",areaEffect:!0,strength:8,dmgType:"melee",level:2},{name:"branding smite",strength:18,dmgType:"radiant",level:2},{name:"moonbeam",areaEffect:!0,strength:6,dmgType:"radiant",level:2},{name:"prayer of healing",areaEffect:!0,effect:"hp",value:5,buff:!0,level:2,reqs:{classType:"cleric"},description:"Heal Party +5"}],[{name:"cloud of daggers",areaEffect:!0,strength:12,dmgType:"melee",level:3},{name:"call lightning",strength:22,dmgType:"lightning",statusEffects:[{name:"petrify",effect:"actions",value:0,chance:20,negative:!1}],level:3},{name:"fireball",strength:24,dmgType:"fire",level:3},{name:"lightning bolt",strength:24,dmgType:"lightning",statusEffects:[{name:"petrify",effect:"actions",value:0,chance:15,negative:!1}],level:3},{name:"haste",effect:"actions",value:3,buff:!0,level:3,description:"Increases party's actions +3"},{name:"slow",effect:"actions",value:1,level:3,description:"Reduces targets actions by 1"},{name:"mass healing word",areaEffect:!0,effect:"hp",value:8,buff:!0,level:3,reqs:{classType:"cleric"},description:"Heal Party +8"}],[{name:"grant death touch",effect:["strength","dmgType","lifeSteal"],value:[5,"necrotic",20],buff:!0,temp:!0,level:4,description:"Give target 20% life steal"},{name:"blight",strength:32,dmgType:"necrotic",level:4},{name:"ice storm",strength:16,areaEffect:!0,dmgType:"cold",level:4},{name:"phantasmal killer",strength:40,dmgType:"psychic",level:4},{name:"poison",strength:1,dmgType:"poison",statusEffects:[{name:"poison",effect:"hp",value:10,chance:100,negative:!1}],level:4}],[{name:"cloud kill",areaEffect:!0,strength:20,dmgType:"poison",statusEffects:[{name:"poison",effect:"hp",value:10,chance:25,negative:!1}],level:5},{name:"cone of cold",strength:48,dmgType:"cold",level:5},{name:"flame strike",strength:48,dmgType:"fire",level:5},{name:"insect plague",areaEffect:!0,strength:20,dmgType:"melee",level:5},{name:"greater restoration",effect:"hp",value:55,buff:!0,level:5,reqs:{classType:"cleric"},description:"Heal target by +55"},{name:"mass cure wounds",areaEffect:!0,effect:"hp",value:25,buff:!0,level:5,reqs:{classType:"cleric"},description:"Heal Party +25"}],[{name:"chain lightning",areaEffect:!0,strength:25,dmgType:"lightning",statusEffects:[{name:"petrify",effect:"actions",value:0,chance:10,negative:!1}],level:6},{name:"circle of death",areaEffect:!0,strength:24,dmgType:"necrotic",level:6},{name:"disintegrate",strength:70,dmgType:"melee",level:6},{name:"sunbeam",strength:65,dmgType:"radiant",level:6},{name:"freezing sphere",areaEffect:!0,strength:60,dmgType:"cold",level:6},{name:"harm",strength:60,dmgType:"necrotic",level:6},{name:"heal",effect:"hp",value:70,buff:!0,level:6,reqs:{classType:"cleric"},description:"Heal target +70"}],[{name:"finger of death",strength:86,dmgType:"necrotic",level:7},{name:"fire storm",areaEffect:!0,strength:35,dmgType:"necrotic",level:7},{name:"teleport",areaEffect:!0,effect:"inBattle",value:!1,level:7,description:"Flee from battle"},{name:"prasmatic spray",areaEffect:!0,strength:35,dmgType:s(),level:7},{name:"mass slow",areaEffect:!0,effect:"actions",value:1,debuff:!0,level:6,description:"Reduces enemies actions for a turn"},{name:"mass haste",areaEffect:!0,effect:"actions",value:6,buff:!0,temp:!0,level:6,description:"Party gains speed +6"}],[{name:"earthquake",areaEffect:!0,strength:50,dmgType:"melee",level:8},{name:"poison fog",areaEffect:!0,strength:40,statusEffects:[{name:"poison",effect:"hp",value:20,chance:50,negative:!1}],dmgType:"poison",level:8},{name:"incendiary cloud",areaEffect:!0,strength:50,dmgType:"fire",level:8},{name:"sunburst",areaEffect:!0,strength:56,dmgType:"radiant",level:8}],[{name:"mass heal",areaEffect:!0,effect:"hp",value:116,buff:!0,level:9,reqs:{classType:"cleric"},description:"Heal Party +116"},{name:"meteor storm",areaEffect:!0,strength:120,dmgType:"fire",level:9},{name:"power word kill",strength:100,dmgType:"fire",level:9},{name:"weird",areaEffect:!0,strength:75,dmgType:"psychic",level:9}]],quests:[{objective:"kill",target:"monsters",goal:10,reward:150,progress:0},{objective:"kill",target:"monsters",goal:25,reward:500,progress:0},{objective:"kill",target:"monsters",goal:5,reward:50,progress:0},{objective:"find",target:"item",goal:"c",reward:"uc",progress:0},{objective:"find",target:"item",goal:"uc",reward:"r",progress:0},{objective:"find",target:"item",goal:"r",reward:"vr",progress:0},{objective:"explore",target:0,goal:"0-5-3",reward:"exp",progress:0}],combatMonsters:[],player:{characters:[],gold:500,items:[],kills:{},quest:{},options:{},currentLocation:"0-1-1",explored:[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]]},location:0,shop:"general",shopItems:[],timer:6e4,timerInterval:null,selected:"",characterImgList:[],locationImgList:[],monsterImgList:[],assetsImgList:[],levelUpChart:[500,2600,7200,13300,24200,45e3,64400,89900,132600,185e3,236e3,309600,386400,49e4,598e3,715e3,87e4,1098e3,128e4,1474e3],message:""},getters:{},mutations:{selectCharacter(e,t){e.selected=t},bringOutYourDead(e){e.combatMonsters=[]},destroyCharacter(e,t){e.player.characters=e.player.characters.filter((e=>e.id!=t))},reducePlayerGold(e,t){e.player.gold-=t},equipItem(e,t){let a=e.player.characters.find((e=>e.id==t.characterId));if(Array.isArray(t.item.effect))for(let s=0;s<t.item.effect.length;s++)Array.isArray(a[t.item.effect[s]])?a[t.item.effect[s]].push(t.item.value[s]):"string"===typeof a[t.item.effect[s]]?a[t.item.effect[s]]=t.item.value[s]:a[t.item.effect[s]]+=t.item.value[s];else Array.isArray(a[t.item.effect])?a[t.item.effect].push(t.item.value):"string"===typeof a[t.item.effect]?a[t.item.effect]=t.item.value:a[t.item.effect]+=t.item.value;t.item.type&&(a[t.item.type]=t.item.id)},unequipItem(e,t){let a=e.player.characters.find((e=>e.id==t.characterId));if(Array.isArray(t.item.effect))for(let s=0;s<t.item.effect.length;s++)if(Array.isArray(a[t.item.effect[s]])){let e=a[t.item.effect[s]].indexOf(t.item.value[s]);a[t.item.effect[s]].splice(e,1)}else if("string"===typeof a[t.item.effect[s]]){let e=a.equipment.find((e=>e.effect.includes("dmgType")))?.effect.indexOf("dmgType");a[t.item.effect[s]]="dmgType"==t.item.effect[s]?a.equipment.find((e=>e.effect.includes("dmgType")))?.value[e]??"melee":null}else a[t.item.effect[s]]-=t.item.value[s];else if(Array.isArray(a[t.item.effect])){let e=a[t.item.effect].indexOf(t.item.value);a[t.item.effect].splice(e,1)}else if("string"===typeof a[t.item.effect]){let e=a.equipment.find((e=>e.effect.includes("dmgType")))?.effect.indexOf("dmgType");a[t.item.effect]="dmgType"==t.item.effect?a.equipment.find((e=>e.effect.includes("dmgType")))?.value[e]??"melee":null}else a[t.item.effect]-=t.item.value;t.item.type&&(a[t.item.type]=null)},addStatsToMonster(e,t){let a=e.items.filter((e=>e.name==t.item));a=a[0];let s=e.combatMonsters.filter((e=>e.id==t.monsterId));if(s=s[0],Array.isArray(a.effect))for(let i=0;i<a.effect.length;i++)Array.isArray(s[a.effect[i]])?s[a.effect[i]].push(a.value[i]):s[a.effect[i]]+=a.value[i];else Array.isArray(s[a.effect])?s[a.effect].push(a.value):s[a.effect]+=a.value}},actions:{},modules:{}});var n=r},1067:function(e,t,a){a.d(t,{Z:function(){return n}});var s=a(4471),i=a(8914),r=a(9359);class n{static async confirm(e="New Quest",t="Mysterious",a="question",i="Yes, Accept!"){try{const r=await s.Z.fire({title:e,text:t,icon:a,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:i});return!!r.isConfirmed}catch(r){return!1}}static async selectChar(e="Learn spell",t=1e3,a=""){try{const i=await s.Z.fire({title:"Learn "+e,text:a,input:"select",inputOptions:c(e),showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Learn Spell("+t+'<i class="fad fa-coins"></i>)'});return!!i.isConfirmed&&i.value}catch(i){return!1}}static async cheat(){try{const e=await s.Z.fire({input:"text",confirmButtonColor:"#3085d6",confirmButtonText:"???"});return!!e.isConfirmed&&e.value}catch(e){return!1}}static async selectTarget(e="Select Target",t="Cast Spell"){try{const a=await s.Z.fire({title:e,input:"select",inputOptions:l(),showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:t});return!!a.isConfirmed&&a.value}catch(a){return!1}}static async selectOptions(e={baseHp:"Hp",baseStrength:"Strength",baseActions:"Actions"},t="Level Up",a="Select a option to improve.",i="Improve stat!"){try{const r=await s.Z.fire({title:t,text:a,input:"select",inputOptions:e,confirmButtonColor:"#3085d6",confirmButtonText:i});return!!r.isConfirmed&&r.value}catch(r){return!1}}static toast(e="Warning!",t="warning",a="center-end",i=5e3,r=!0){s.Z.fire({title:e,icon:t,position:a,timer:i,timerProgressBar:r,toast:!0,showConfirmButton:!1})}}function c(e){let t={},a=i.Z.state.player.characters.filter((t=>r.w.canLearnSpell(e,t)));return a.length<1?{0:"No one can learn this spell"}:(a.forEach((e=>{t[e.id]=e.name})),t)}function l(){let e={},t=i.Z.state.combatMonsters,a=i.Z.state.player.characters;return t.forEach((t=>{e[t.id]=t.name})),a.forEach((t=>{e[t.id]=t.name})),e}},6197:function(e,t,a){function s(){let e=((new Date).getTime()/1e3|0).toString(16);return e+"xxxxxxxxxxxxxxxx".replace(/[x]/g,(()=>(16*Math.random()|0).toString(16))).toLowerCase()}a.d(t,{O:function(){return s}})},9370:function(e,t,a){function s(e){let t="";switch(e){case"melee":t='<i class="fas fa-swords"></i>';break;case"cold":t='<i class="fas fa-snowflake"></i>';break;case"fire":t='<i class="fad fa-fire"></i>';break;case"lightning":t='<i class="fal fa-bolt"></i>';break;case"magic":t='<i class="far fa-sparkles"></i>';break;case"acid":t='<i class="fad fa-vial"></i>';break;case"necrotic":t='<i class="far fa-skull-crossbones"></i>';break;case"poison":t='<i class="far fa-flask-poison"></i>';break;case"psychic":t='<i class="fal fa-eye"></i>';break;case"radiant":t='<i class="fad fa-sun"></i>';break}return t}function i(e){let t="";switch(e){case"mainHand":t='<i class="fas fa-sword"></i>';break;case"offHand":t='<i class="far fa-shield-alt"></i>';break;case"accessory":t='<i class="fad fa-ring"></i>';break;case"armor":t='<i class="far fa-tshirt"></i>';break;case"cloak":t='<i class="fad fa-hood-cloak"></i>';break;case"consumable":t='<i class="fad fa-flask-potion"></i>';break;case"key":t='<i class="fas fa-key-skeleton"></i>';break;default:t='<i class="fad fa-scroll-old"></i>';break}return t}a.d(t,{p:function(){return s},_:function(){return i}})},3998:function(e,t,a){function s(){let e=["hp","strength","dodge","thorns","actions","lifeSteal","luck","magic","physicalResistance","magicResistance"],t=Math.floor(Math.random()*e.length);return e[t]}a.d(t,{w:function(){return s}})},4485:function(e,t,a){function s(e){let t="common";switch(e){case"uc":t="uncommon";break;case"r":t="rare";break;case"vr":t="very-rare";break;case"l":t="legendary";break}return t}a.d(t,{$:function(){return s}})},2074:function(e,t,a){function s(e){return new Promise((t=>setTimeout(t,e)))}a.d(t,{_:function(){return s}})},2842:function(e,t,a){a.d(t,{Z:function(){return b}});var s=a(3396),i=a(7139);const r=["id","title"],n=["innerHTML"],c={key:0,class:"fad fa-coins pl-1"},l=(0,s.Uk)(),o={key:1};function m(e,t,a,m,f,p){return(0,s.wg)(),(0,s.iD)("li",{id:"item"+a.item.id,class:(0,i.C_)(["click d-flex pb-2",p.getRarityFullName(a.item.rarity)]),title:"full"==a.display?p.getItemReqsDisplay(a.item):p.getItemEffectsDisplay(a.item)},[(0,s.Uk)((0,i.zw)(a.item.name)+" Â ",1),(0,s._)("span",{innerHTML:p.getItemIcon(a.item.type)},null,8,n),(0,s.Uk)("Â  "+(0,i.zw)("full"==a.display?p.getItemEffectsDisplay(a.item):" - "+a.item.price)+" ",1),"full"!=a.display?((0,s.wg)(),(0,s.iD)("i",c)):(0,s.kq)("",!0),l,a.qty>1?((0,s.wg)(),(0,s.iD)("span",o,"Â  ("+(0,i.zw)(a.qty)+")",1)):(0,s.kq)("",!0)],10,r)}var f=a(4870),p=a(4485),h=a(5216),d=a(9370),u={name:"EquipmentItem",props:{item:{type:Object,required:!0},display:{type:String,default:"full"},qty:{type:Number,default:0}},setup(){const e=(0,f.qj)({});return e},methods:{getRarityFullName:p.$,getItemIcon:d._,getItemEffectsDisplay(e){h.x.getItemEffectsDisplay(e)},getItemReqsDisplay(e){let t="Pre-reqs: ";if(e?.requirements?.length>0)for(let a=0;a<e.requirements.length;a++){let s=Array.isArray(e.requirements[a].req)?e.requirements[a].req.join(" or "):e.requirements[a].req;t+=e.requirements[a].stat+" +"+s}else t+="none";return t}}},g=a(89);const y=(0,g.Z)(u,[["render",m]]);var b=y}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,s,i,r){if(!s){var n=1/0;for(m=0;m<e.length;m++){s=e[m][0],i=e[m][1],r=e[m][2];for(var c=!0,l=0;l<s.length;l++)(!1&r||n>=r)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(c=!1,r<n&&(n=r));if(c){e.splice(m--,1);var o=i();void 0!==o&&(t=o)}}return t}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[s,i,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,s){return a.f[s](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/about.23cedf5d.js"}}(),function(){a.miniCssF=function(e){return"css/about.38c503b8.css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="blades-of-desolation:";a.l=function(s,i,r,n){if(e[s])e[s].push(i);else{var c,l;if(void 0!==r)for(var o=document.getElementsByTagName("script"),m=0;m<o.length;m++){var f=o[m];if(f.getAttribute("src")==s||f.getAttribute("data-webpack")==t+r){c=f;break}}c||(l=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.setAttribute("data-webpack",t+r),c.src=s),e[s]=[i];var p=function(t,a){c.onerror=c.onload=null,clearTimeout(h);var i=e[s];if(delete e[s],c.parentNode&&c.parentNode.removeChild(c),i&&i.forEach((function(e){return e(a)})),t)return t(a)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=p.bind(null,c.onerror),c.onload=p.bind(null,c.onload),l&&document.head.appendChild(c)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/blades-of-desolation/"}(),function(){var e=function(e,t,a,s){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var r=function(r){if(i.onerror=i.onload=null,"load"===r.type)a();else{var n=r&&("load"===r.type?"missing":r.type),c=r&&r.target&&r.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=n,l.request=c,i.parentNode.removeChild(i),s(l)}};return i.onerror=i.onload=r,i.href=t,document.head.appendChild(i),i},t=function(e,t){for(var a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var i=a[s],r=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(r===e||r===t))return i}var n=document.getElementsByTagName("style");for(s=0;s<n.length;s++){i=n[s],r=i.getAttribute("data-href");if(r===e||r===t)return i}},s=function(s){return new Promise((function(i,r){var n=a.miniCssF(s),c=a.p+n;if(t(n,c))return i();e(s,c,i,r)}))},i={143:0};a.f.miniCss=function(e,t){var a={443:1};i[e]?t.push(i[e]):0!==i[e]&&a[e]&&t.push(i[e]=s(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}(),function(){var e={143:0};a.f.j=function(t,s){var i=a.o(e,t)?e[t]:void 0;if(0!==i)if(i)s.push(i[2]);else{var r=new Promise((function(a,s){i=e[t]=[a,s]}));s.push(i[2]=r);var n=a.p+a.u(t),c=new Error,l=function(s){if(a.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var r=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",c.name="ChunkLoadError",c.type=r,c.request=n,i[1](c)}};a.l(n,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,r,n=s[0],c=s[1],l=s[2],o=0;if(n.some((function(t){return 0!==e[t]}))){for(i in c)a.o(c,i)&&(a.m[i]=c[i]);if(l)var m=l(a)}for(t&&t(s);o<n.length;o++)r=n[o],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(m)},s=self["webpackChunkblades_of_desolation"]=self["webpackChunkblades_of_desolation"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(7809)}));s=a.O(s)})();
//# sourceMappingURL=app.787a709f.js.map